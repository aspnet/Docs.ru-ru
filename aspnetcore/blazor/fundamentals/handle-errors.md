---
title: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö ASP.NET Core Blazor
author: guardrex
description: –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ ASP.NET Core Blazor Blazor —É–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏.
monikerRange: '>= aspnetcore-3.1'
ms.author: riande
ms.custom: mvc
ms.date: 04/23/2020
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: blazor/fundamentals/handle-errors
ms.openlocfilehash: 5a255c2d3535311cecd6b7219447e80d1ae78877
ms.sourcegitcommit: d4836f9b7c508f51c6c4ee6d0cc719b38c1729c4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2021
ms.locfileid: "98758249"
---
# <a name="handle-errors-in-aspnet-core-blazor-apps"></a><span data-ttu-id="c946a-103">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö ASP.NET Core Blazor</span><span class="sxs-lookup"><span data-stu-id="c946a-103">Handle errors in ASP.NET Core Blazor apps</span></span>

<span data-ttu-id="c946a-104">–ê–≤—Ç–æ—Ä: [–°—Ç–∏–≤ –°–∞–Ω–¥–µ—Ä—Å–æ–Ω](https://github.com/SteveSandersonMS) (Steve Sanderson)</span><span class="sxs-lookup"><span data-stu-id="c946a-104">By [Steve Sanderson](https://github.com/SteveSandersonMS)</span></span>

<span data-ttu-id="c946a-105">–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ Blazor —É–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-105">This article describes how Blazor manages unhandled exceptions and how to develop apps that detect and handle errors.</span></span>

## <a name="detailed-errors-during-development"></a><span data-ttu-id="c946a-106">–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-106">Detailed errors during development</span></span>

<span data-ttu-id="c946a-107">–ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Blazor —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –≤ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–µ–ø–æ–ª–∞–¥–æ–∫.</span><span class="sxs-lookup"><span data-stu-id="c946a-107">When a Blazor app isn't functioning properly during development, receiving detailed error information from the app assists in troubleshooting and fixing the issue.</span></span> <span data-ttu-id="c946a-108">–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Blazor –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–æ–ª–æ—Ç–∏—Å—Ç–∞—è –ø–æ–ª–æ—Å–∫–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-108">When an error occurs, Blazor apps display a gold bar at the bottom of the screen:</span></span>

* <span data-ttu-id="c946a-109">–í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ —ç—Ç–æ–π –ø–æ–ª–æ—Å–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞, –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-109">During development, the gold bar directs you to the browser console, where you can see the exception.</span></span>
* <span data-ttu-id="c946a-110">–í —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ —ç—Ç–∞ –ø–æ–ª–æ—Å–∫–∞ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-110">In production, the gold bar notifies the user that an error has occurred and recommends refreshing the browser.</span></span>

<span data-ttu-id="c946a-111">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤ Blazor.</span><span class="sxs-lookup"><span data-stu-id="c946a-111">The UI for this error handling experience is part of the Blazor project templates.</span></span>

<span data-ttu-id="c946a-112">–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Blazor WebAssembly –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ñ–∞–π–ª–µ `wwwroot/index.html`:</span><span class="sxs-lookup"><span data-stu-id="c946a-112">In a Blazor WebAssembly app, customize the experience in the `wwwroot/index.html` file:</span></span>

```html
<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">üóô</a>
</div>
```

<span data-ttu-id="c946a-113">–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Blazor Server –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ñ–∞–π–ª–µ `Pages/_Host.cshtml`:</span><span class="sxs-lookup"><span data-stu-id="c946a-113">In a Blazor Server app, customize the experience in the `Pages/_Host.cshtml` file:</span></span>

```cshtml
<div id="blazor-error-ui">
    <environment include="Staging,Production">
        An error has occurred. This application may no longer respond until reloaded.
    </environment>
    <environment include="Development">
        An unhandled exception has occurred. See browser dev tools for details.
    </environment>
    <a href="" class="reload">Reload</a>
    <a class="dismiss">üóô</a>
</div>
```

<span data-ttu-id="c946a-114">–≠–ª–µ–º–µ–Ω—Ç `blazor-error-ui` —Å–∫—Ä—ã—Ç —Å—Ç–∏–ª—è–º–∏, –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –≤ —à–∞–±–ª–æ–Ω—ã Blazor (`wwwroot/css/app.css` –∏–ª–∏ `wwwroot/css/site.css`), –∞ –∑–∞—Ç–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏:</span><span class="sxs-lookup"><span data-stu-id="c946a-114">The `blazor-error-ui` element is hidden by the styles included in the Blazor templates (`wwwroot/css/app.css` or `wwwroot/css/site.css`) and then shown when an error occurs:</span></span>

```css
#blazor-error-ui {
    background: lightyellow;
    bottom: 0;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
    display: none;
    left: 0;
    padding: 0.6rem 1.25rem 0.7rem 1.25rem;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

#blazor-error-ui .dismiss {
    cursor: pointer;
    position: absolute;
    right: 0.75rem;
    top: 0.5rem;
}
```

## <a name="blazor-server-detailed-circuit-errors"></a><span data-ttu-id="c946a-115">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ –≤ Blazor Server</span><span class="sxs-lookup"><span data-stu-id="c946a-115">Blazor Server detailed circuit errors</span></span>

<span data-ttu-id="c946a-116">–û—à–∏–±–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∏—á–∏–Ω–µ –æ—à–∏–±–∫–∏, –Ω–æ –∂—É—Ä–Ω–∞–ª—ã —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–∞–∫–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-116">Client-side errors don't include the callstack and don't provide detail on the cause of the error, but server logs do contain such information.</span></span> <span data-ttu-id="c946a-117">–í —Ü–µ–ª—è—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∫–∞–Ω–∞–ª–æ–≤ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞, –≤–∫–ª—é—á–∏–≤ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫.</span><span class="sxs-lookup"><span data-stu-id="c946a-117">For development purposes, sensitive circuit error information can be made available to the client by enabling detailed errors.</span></span>

<span data-ttu-id="c946a-118">–í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ Blazor Server –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø–æ—Å–æ–±–æ–≤:</span><span class="sxs-lookup"><span data-stu-id="c946a-118">Enable Blazor Server detailed errors using the following approaches:</span></span>

* <span data-ttu-id="c946a-119"><xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DetailedErrors?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c946a-119"><xref:Microsoft.AspNetCore.Components.Server.CircuitOptions.DetailedErrors?displayProperty=nameWithType>.</span></span>
* <span data-ttu-id="c946a-120">–ó–∞–¥–∞–π—Ç–µ –¥–ª—è –∫–ª—é—á–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `DetailedErrors` –∑–Ω–∞—á–µ–Ω–∏–µ `true` –≤ —Ñ–∞–π–ª–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`appsettings.Development.json`).</span><span class="sxs-lookup"><span data-stu-id="c946a-120">The `DetailedErrors` configuration key set to `true`, which can be set in the app's Development settings file (`appsettings.Development.json`).</span></span> <span data-ttu-id="c946a-121">–ö–ª—é—á —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Ä–µ–¥—ã `ASPNETCORE_DETAILEDERRORS` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `true`.</span><span class="sxs-lookup"><span data-stu-id="c946a-121">The key can also be set using the `ASPNETCORE_DETAILEDERRORS` environment variable with a value of `true`.</span></span>
* <span data-ttu-id="c946a-122">–ó–∞–¥–∞–π—Ç–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ [–≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ SignalR –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞](xref:signalr/diagnostics#server-side-logging) (`Microsoft.AspNetCore.SignalR`) –∑–Ω–∞—á–µ–Ω–∏–µ [–û—Ç–ª–∞–¥–∫–∞](xref:Microsoft.Extensions.Logging.LogLevel) –∏–ª–∏ [–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞](xref:Microsoft.Extensions.Logging.LogLevel), —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ SignalR.</span><span class="sxs-lookup"><span data-stu-id="c946a-122">[SignalR server-side logging](xref:signalr/diagnostics#server-side-logging) (`Microsoft.AspNetCore.SignalR`) can be set to [Debug](xref:Microsoft.Extensions.Logging.LogLevel) or [Trace](xref:Microsoft.Extensions.Logging.LogLevel) for detailed SignalR logging.</span></span>

<span data-ttu-id="c946a-123">`appsettings.Development.json`:</span><span class="sxs-lookup"><span data-stu-id="c946a-123">`appsettings.Development.json`:</span></span>

```json
{
  "DetailedErrors": true,
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.AspNetCore.SignalR": "Debug"
    }
  }
}
```

> [!WARNING]
> <span data-ttu-id="c946a-124">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –∫–ª–∏–µ–Ω—Ç–∞–º –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —è–≤–ª—è–µ—Ç—Å—è —É–≥—Ä–æ–∑–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—É—é –≤—Å–µ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å.</span><span class="sxs-lookup"><span data-stu-id="c946a-124">Exposing error information to clients on the Internet is a security risk that should always be avoided.</span></span>

## <a name="how-a-blazor-server-app-reacts-to-unhandled-exceptions"></a><span data-ttu-id="c946a-125">–ö–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Blazor Server —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</span><span class="sxs-lookup"><span data-stu-id="c946a-125">How a Blazor Server app reacts to unhandled exceptions</span></span>

<span data-ttu-id="c946a-126">Blazor Server¬†‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-126">Blazor Server is a stateful framework.</span></span> <span data-ttu-id="c946a-127">–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –æ–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *–∫–∞–Ω–∞–ª–æ–º*.</span><span class="sxs-lookup"><span data-stu-id="c946a-127">While users interact with an app, they maintain a connection to the server known as a *circuit*.</span></span> <span data-ttu-id="c946a-128">–ö–∞–Ω–∞–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞ —Ç–∞–∫–∂–µ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –∞—Å–ø–µ–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:</span><span class="sxs-lookup"><span data-stu-id="c946a-128">The circuit holds active component instances, plus many other aspects of state, such as:</span></span>

* <span data-ttu-id="c946a-129">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.</span><span class="sxs-lookup"><span data-stu-id="c946a-129">The most recent rendered output of components.</span></span>
* <span data-ttu-id="c946a-130">–¢–µ–∫—É—â–∏–π –Ω–∞–±–æ—Ä –¥–µ–ª–µ–≥–∞—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Å–æ–±—ã—Ç–∏—è–º–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-130">The current set of event-handling delegates that could be triggered by client-side events.</span></span>

<span data-ttu-id="c946a-131">–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞, —É –Ω–µ–≥–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫–∞–Ω–∞–ª–æ–≤.</span><span class="sxs-lookup"><span data-stu-id="c946a-131">If a user opens the app in multiple browser tabs, they have multiple independent circuits.</span></span>

<span data-ttu-id="c946a-132">Blazor –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∫–∞–∫ –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–µ –¥–ª—è –∫–∞–Ω–∞–ª–∞, –≥–¥–µ –æ–Ω–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç.</span><span class="sxs-lookup"><span data-stu-id="c946a-132">Blazor treats most unhandled exceptions as fatal to the circuit where they occur.</span></span> <span data-ttu-id="c946a-133">–ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ –ø—É—Ç–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-133">If a circuit is terminated due to an unhandled exception, the user can only continue to interact with the app by reloading the page to create a new circuit.</span></span> <span data-ttu-id="c946a-134">–≠—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –≤–∫–ª–∞–¥–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-134">Circuits outside of the one that's terminated, which are circuits for other users or other browser tabs, aren't affected.</span></span> <span data-ttu-id="c946a-135">–≠—Ç–æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω —Å—Ü–µ–Ω–∞—Ä–∏—é —Å –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.</span><span class="sxs-lookup"><span data-stu-id="c946a-135">This scenario is similar to a desktop app that crashes.</span></span> <span data-ttu-id="c946a-136">–¢–∞–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç.</span><span class="sxs-lookup"><span data-stu-id="c946a-136">The crashed app must be restarted, but other apps aren't affected.</span></span>

<span data-ttu-id="c946a-137">–ö–∞–Ω–∞–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:</span><span class="sxs-lookup"><span data-stu-id="c946a-137">A circuit is terminated when an unhandled exception occurs for the following reasons:</span></span>

* <span data-ttu-id="c946a-138">–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–Ω–∞–ª –≤ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-138">An unhandled exception often leaves the circuit in an undefined state.</span></span>
* <span data-ttu-id="c946a-139">–ü–æ—Å–ª–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å.</span><span class="sxs-lookup"><span data-stu-id="c946a-139">The app's normal operation can't be guaranteed after an unhandled exception.</span></span>
* <span data-ttu-id="c946a-140">–î–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–±–æ—Ç–∞ –∫–∞–Ω–∞–ª–∞ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-140">Security vulnerabilities may appear in the app if the circuit continues.</span></span>

## <a name="manage-unhandled-exceptions-in-developer-code"></a><span data-ttu-id="c946a-141">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –≤ –∫–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-141">Manage unhandled exceptions in developer code</span></span>

<span data-ttu-id="c946a-142">–ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏, –≤ –Ω–µ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.</span><span class="sxs-lookup"><span data-stu-id="c946a-142">For an app to continue after an error, the app must have error handling logic.</span></span> <span data-ttu-id="c946a-143">–í –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.</span><span class="sxs-lookup"><span data-stu-id="c946a-143">Later sections of this article describe potential sources of unhandled exceptions.</span></span>

<span data-ttu-id="c946a-144">–í —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–ª–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ —Å—Ç–µ–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-144">In production, don't render framework exception messages or stack traces in the UI.</span></span> <span data-ttu-id="c946a-145">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –∏–ª–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–æ–∫ —Å—Ç–µ–∫–∞ –º–æ–∂–µ—Ç:</span><span class="sxs-lookup"><span data-stu-id="c946a-145">Rendering exception messages or stack traces could:</span></span>

* <span data-ttu-id="c946a-146">–†–∞—Å–∫—Ä—ã—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.</span><span class="sxs-lookup"><span data-stu-id="c946a-146">Disclose sensitive information to end users.</span></span>
* <span data-ttu-id="c946a-147">–ü–æ–º–æ—á—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫—É –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, —á—Ç–æ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ —Å–µ—Ç–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-147">Help a malicious user discover weaknesses in an app that can compromise the security of the app, server, or network.</span></span>

## <a name="log-errors-with-a-persistent-provider"></a><span data-ttu-id="c946a-148">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-148">Log errors with a persistent provider</span></span>

<span data-ttu-id="c946a-149">–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–Ω–æ –∑–∞–Ω–æ—Å–∏—Ç—Å—è –≤ –∂—É—Ä–Ω–∞–ª —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ <xref:Microsoft.Extensions.Logging.ILogger>, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å–ª—É–∂–±—ã.</span><span class="sxs-lookup"><span data-stu-id="c946a-149">If an unhandled exception occurs, the exception is logged to <xref:Microsoft.Extensions.Logging.ILogger> instances configured in the service container.</span></span> <span data-ttu-id="c946a-150">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Blazor –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å–æ–ª–∏ —Å –ø–æ–º–æ—â—å—é –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ –∫–æ–Ω—Å–æ–ª–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-150">By default, Blazor apps log to console output with the Console Logging Provider.</span></span> <span data-ttu-id="c946a-151">–í–æ–∑–º–æ–∂–Ω–æ, —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞ –≤ –±–æ–ª–µ–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä–æ–º –∂—É—Ä–Ω–∞–ª–∞ –∏ —Ä–æ—Ç–∞—Ü–∏–µ–π –∂—É—Ä–Ω–∞–ª–æ–≤.</span><span class="sxs-lookup"><span data-stu-id="c946a-151">Consider logging to a more permanent location with a provider that manages log size and log rotation.</span></span> <span data-ttu-id="c946a-152">–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. <xref:fundamentals/logging/index>.</span><span class="sxs-lookup"><span data-stu-id="c946a-152">For more information, see <xref:fundamentals/logging/index>.</span></span>

<span data-ttu-id="c946a-153">–í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Blazor –æ–±—ã—á–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ—Ç–ª–∞–¥–∫–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-153">During development, Blazor usually sends the full details of exceptions to the browser's console to aid in debugging.</span></span> <span data-ttu-id="c946a-154">–í —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–µ–Ω—ã, —Ç–æ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–∞–º, –Ω–æ –≤—Å–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-154">In production, detailed errors in the browser's console are disabled by default, which means that errors aren't sent to clients but the exception's full details are still logged server-side.</span></span> <span data-ttu-id="c946a-155">–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. <xref:fundamentals/error-handling>.</span><span class="sxs-lookup"><span data-stu-id="c946a-155">For more information, see <xref:fundamentals/error-handling>.</span></span>

<span data-ttu-id="c946a-156">–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ—à–∏—Ç—å, –∫–∞–∫–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Å–ª–µ–¥—É–µ—Ç –∑–∞–Ω–æ—Å–∏—Ç—å –≤ –∂—É—Ä–Ω–∞–ª, –∏ –≤—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.</span><span class="sxs-lookup"><span data-stu-id="c946a-156">You must decide which incidents to log and the level of severity of logged incidents.</span></span> <span data-ttu-id="c946a-157">–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ.</span><span class="sxs-lookup"><span data-stu-id="c946a-157">Hostile users might be able to trigger errors deliberately.</span></span> <span data-ttu-id="c946a-158">–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –∑–∞–Ω–æ—Å–∏—Ç–µ –≤ –∂—É—Ä–Ω–∞–ª –∏–Ω—Ü–∏–¥–µ–Ω—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ—à–∏–±–∫–∏, –∫–æ–≥–¥–∞ –≤ URL-–∞–¥—Ä–µ—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–≥–æ —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ, —É–∫–∞–∑–∞–Ω –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π `ProductId`.</span><span class="sxs-lookup"><span data-stu-id="c946a-158">For example, don't log an incident from an error where an unknown `ProductId` is supplied in the URL of a component that displays product details.</span></span> <span data-ttu-id="c946a-159">–ù–µ –≤—Å–µ –æ—à–∏–±–∫–∏ —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Å –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-159">Not all errors should be treated as high-severity incidents for logging.</span></span>

<span data-ttu-id="c946a-160">–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. <xref:blazor/fundamentals/logging>.</span><span class="sxs-lookup"><span data-stu-id="c946a-160">For more information, see <xref:blazor/fundamentals/logging>.</span></span>

## <a name="places-where-errors-may-occur"></a><span data-ttu-id="c946a-161">–ú–µ—Å—Ç–∞, –≥–¥–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-161">Places where errors may occur</span></span>

<span data-ttu-id="c946a-162">–ö–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –ª—é–±–æ–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–π:</span><span class="sxs-lookup"><span data-stu-id="c946a-162">Framework and app code may trigger unhandled exceptions in any of the following locations:</span></span>

* [<span data-ttu-id="c946a-163">–≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-163">Component instantiation</span></span>](#component-instantiation)
* [<span data-ttu-id="c946a-164">–ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-164">Lifecycle methods</span></span>](#lifecycle-methods)
* [<span data-ttu-id="c946a-165">–õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-165">Rendering logic</span></span>](#rendering-logic)
* [<span data-ttu-id="c946a-166">–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</span><span class="sxs-lookup"><span data-stu-id="c946a-166">Event handlers</span></span>](#event-handlers)
* [<span data-ttu-id="c946a-167">–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</span><span class="sxs-lookup"><span data-stu-id="c946a-167">Component disposal</span></span>](#component-disposal)
* [<span data-ttu-id="c946a-168">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å JavaScript</span><span class="sxs-lookup"><span data-stu-id="c946a-168">JavaScript interop</span></span>](#javascript-interop)
* [<span data-ttu-id="c946a-169">–û—Ç—Ä–∏—Å–æ–≤–∫–∞ Blazor Server</span><span class="sxs-lookup"><span data-stu-id="c946a-169">Blazor Server rerendering</span></span>](#blazor-server-prerendering)

<span data-ttu-id="c946a-170">–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-170">The preceding unhandled exceptions are described in the following sections of this article.</span></span>

### <a name="component-instantiation"></a><span data-ttu-id="c946a-171">–≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-171">Component instantiation</span></span>

<span data-ttu-id="c946a-172">–ö–æ–≥–¥–∞ Blazor —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:</span><span class="sxs-lookup"><span data-stu-id="c946a-172">When Blazor creates an instance of a component:</span></span>

* <span data-ttu-id="c946a-173">–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-173">The component's constructor is invoked.</span></span>
* <span data-ttu-id="c946a-174">–í—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –ª—é–±—ã—Ö –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª—É–∂–± DI, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –¥–∏—Ä–µ–∫—Ç–∏–≤—ã [`@inject`](xref:mvc/views/razor#inject) –∏–ª–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ [`[Inject]`](xref:blazor/fundamentals/dependency-injection#request-a-service-in-a-component).</span><span class="sxs-lookup"><span data-stu-id="c946a-174">The constructors of any non-singleton DI services supplied to the component's constructor via the [`@inject`](xref:mvc/views/razor#inject) directive or the [`[Inject]`](xref:blazor/fundamentals/dependency-injection#request-a-service-in-a-component) attribute are invoked.</span></span>

<span data-ttu-id="c946a-175">–°–±–æ–π –∫–∞–Ω–∞–ª–∞ Blazor Server –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –ª—é–±–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –ª—é–±–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ `[Inject]` –≤—ã–¥–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-175">A Blazor Server circuit fails when any executed constructor or a setter for any `[Inject]` property throws an unhandled exception.</span></span> <span data-ttu-id="c946a-176">–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º, —Ç–∞–∫ –∫–∞–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –Ω–µ —É–¥–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-176">The exception is fatal because the framework can't instantiate the component.</span></span> <span data-ttu-id="c946a-177">–ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-177">If constructor logic may throw exceptions, the app should trap the exceptions using a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

### <a name="lifecycle-methods"></a><span data-ttu-id="c946a-178">–ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-178">Lifecycle methods</span></span>

<span data-ttu-id="c946a-179">–í —Ç–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Blazor –≤—ã–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ [–º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞](xref:blazor/components/lifecycle):</span><span class="sxs-lookup"><span data-stu-id="c946a-179">During the lifetime of a component, Blazor invokes the following [lifecycle methods](xref:blazor/components/lifecycle):</span></span>

* <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitialized%2A> / <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A>
* <xref:Microsoft.AspNetCore.Components.ComponentBase.OnParametersSet%2A> / <xref:Microsoft.AspNetCore.Components.ComponentBase.OnParametersSetAsync%2A>
* <xref:Microsoft.AspNetCore.Components.ComponentBase.ShouldRender%2A>
* <xref:Microsoft.AspNetCore.Components.ComponentBase.OnAfterRender%2A> / <xref:Microsoft.AspNetCore.Components.ComponentBase.OnAfterRenderAsync%2A>

<span data-ttu-id="c946a-180">–ï—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ), —Ç–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-180">If any lifecycle method throws an exception, synchronously or asynchronously, the exception is fatal to a Blazor Server circuit.</span></span> <span data-ttu-id="c946a-181">–î–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö –æ—à–∏–±–∫–∏ –≤ –º–µ—Ç–æ–¥–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.</span><span class="sxs-lookup"><span data-stu-id="c946a-181">For components to deal with errors in lifecycle methods, add error handling logic.</span></span>

<span data-ttu-id="c946a-182">–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ <xref:Microsoft.AspNetCore.Components.ComponentBase.OnParametersSetAsync%2A> –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞:</span><span class="sxs-lookup"><span data-stu-id="c946a-182">In the following example where <xref:Microsoft.AspNetCore.Components.ComponentBase.OnParametersSetAsync%2A> calls a method to obtain a product:</span></span>

* <span data-ttu-id="c946a-183">–ò—Å–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–∑–≤–∞–Ω–Ω–æ–µ –≤ –º–µ—Ç–æ–¥–µ `ProductRepository.GetProductByIdAsync`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch).</span><span class="sxs-lookup"><span data-stu-id="c946a-183">An exception thrown in the `ProductRepository.GetProductByIdAsync` method is handled by a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement.</span></span>
* <span data-ttu-id="c946a-184">–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–ª–æ–∫–∞ `catch`:</span><span class="sxs-lookup"><span data-stu-id="c946a-184">When the `catch` block is executed:</span></span>
  * <span data-ttu-id="c946a-185">`loadFailed` –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `true`, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.</span><span class="sxs-lookup"><span data-stu-id="c946a-185">`loadFailed` is set to `true`, which is used to display an error message to the user.</span></span>
  * <span data-ttu-id="c946a-186">–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –∂—É—Ä–Ω–∞–ª–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-186">The error is logged.</span></span>

[!code-razor[](handle-errors/samples_snapshot/3.x/product-details.razor?highlight=11,27-39)]

### <a name="rendering-logic"></a><span data-ttu-id="c946a-187">–õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-187">Rendering logic</span></span>

<span data-ttu-id="c946a-188">–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ –≤ —Ñ–∞–π–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `.razor` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ C# —Å –∏–º–µ–Ω–µ–º <xref:Microsoft.AspNetCore.Components.ComponentBase.BuildRenderTree%2A>.</span><span class="sxs-lookup"><span data-stu-id="c946a-188">The declarative markup in a `.razor` component file is compiled into a C# method called <xref:Microsoft.AspNetCore.Components.ComponentBase.BuildRenderTree%2A>.</span></span> <span data-ttu-id="c946a-189">–ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è, <xref:Microsoft.AspNetCore.Components.ComponentBase.BuildRenderTree%2A> –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–µ–∫—Å—Ç –∏ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-189">When a component renders, <xref:Microsoft.AspNetCore.Components.ComponentBase.BuildRenderTree%2A> executes and builds up a data structure describing the elements, text, and child components of the rendered component.</span></span>

<span data-ttu-id="c946a-190">–õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-190">Rendering logic can throw an exception.</span></span> <span data-ttu-id="c946a-191">–ü—Ä–∏–º–µ—Ä —ç—Ç–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ `@someObject.PropertyName` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è, –Ω–æ `@someObject` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `null`.</span><span class="sxs-lookup"><span data-stu-id="c946a-191">An example of this scenario occurs when `@someObject.PropertyName` is evaluated but `@someObject` is `null`.</span></span> <span data-ttu-id="c946a-192">–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –ª–æ–≥–∏–∫–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-192">An unhandled exception thrown by rendering logic is fatal to a Blazor Server circuit.</span></span>

<span data-ttu-id="c946a-193">–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—É—Å—Ç–æ–π —Å—Å—ã–ª–∫–∏ –≤ –ª–æ–≥–∏–∫–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—ä–µ–∫—Ç `null` –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ –µ–≥–æ —á–ª–µ–Ω–∞–º.</span><span class="sxs-lookup"><span data-stu-id="c946a-193">To prevent a null reference exception in rendering logic, check for a `null` object before accessing its members.</span></span> <span data-ttu-id="c946a-194">–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —Å–≤–æ–π—Å—Ç–≤–∞ `person.Address` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –µ—Å–ª–∏ `person.Address` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `null`:</span><span class="sxs-lookup"><span data-stu-id="c946a-194">In the following example, `person.Address` properties aren't accessed if `person.Address` is `null`:</span></span>

[!code-razor[](handle-errors/samples_snapshot/3.x/person-example.razor?highlight=1)]

<span data-ttu-id="c946a-195">–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –∫–æ–¥–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ `person` –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `null`.</span><span class="sxs-lookup"><span data-stu-id="c946a-195">The preceding code assumes that `person` isn't `null`.</span></span> <span data-ttu-id="c946a-196">–ß–∞—Å—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –º–æ–º–µ–Ω—Ç –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-196">Often, the structure of the code guarantees that an object exists at the time the component is rendered.</span></span> <span data-ttu-id="c946a-197">–í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ `null` –≤ –ª–æ–≥–∏–∫–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-197">In those cases, it isn't necessary to check for `null` in rendering logic.</span></span> <span data-ttu-id="c946a-198">–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ `person` –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å, –ø–æ—Å–∫–æ–ª—å–∫—É `person` —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-198">In the prior example, `person` might be guaranteed to exist because `person` is created when the component is instantiated.</span></span>

### <a name="event-handlers"></a><span data-ttu-id="c946a-199">–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</span><span class="sxs-lookup"><span data-stu-id="c946a-199">Event handlers</span></span>

<span data-ttu-id="c946a-200">–ö–æ–¥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤—ã –∫–æ–¥–∞ C# –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–º–æ—â—å—é:</span><span class="sxs-lookup"><span data-stu-id="c946a-200">Client-side code triggers invocations of C# code when event handlers are created using:</span></span>

* `@onclick`
* `@onchange`
* <span data-ttu-id="c946a-201">–î—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã `@on...`</span><span class="sxs-lookup"><span data-stu-id="c946a-201">Other `@on...` attributes</span></span>
* `@bind`

<span data-ttu-id="c946a-202">–í —ç—Ç–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-202">Event handler code might throw an unhandled exception in these scenarios.</span></span>

<span data-ttu-id="c946a-203">–ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π), —Ç–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-203">If an event handler throws an unhandled exception (for example, a database query fails), the exception is fatal to a Blazor Server circuit.</span></span> <span data-ttu-id="c946a-204">–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ—à–∏–±–∫–æ–π –ø–æ –≤–Ω–µ—à–Ω–∏–º –ø—Ä–∏—á–∏–Ω–∞–º, –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-204">If the app calls code that could fail for external reasons, trap exceptions using a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

<span data-ttu-id="c946a-205">–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∫–∞–Ω–∞–ª.</span><span class="sxs-lookup"><span data-stu-id="c946a-205">If user code doesn't trap and handle the exception, the framework logs the exception and terminates the circuit.</span></span>

### <a name="component-disposal"></a><span data-ttu-id="c946a-206">–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</span><span class="sxs-lookup"><span data-stu-id="c946a-206">Component disposal</span></span>

<span data-ttu-id="c946a-207">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—à–µ–ª –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.</span><span class="sxs-lookup"><span data-stu-id="c946a-207">A component may be removed from the UI, for example, because the user has navigated to another page.</span></span> <span data-ttu-id="c946a-208">–ö–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π <xref:System.IDisposable?displayProperty=fullName>, —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ <xref:System.IDisposable.Dispose%2A> –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-208">When a component that implements <xref:System.IDisposable?displayProperty=fullName> is removed from the UI, the framework calls the component's <xref:System.IDisposable.Dispose%2A> method.</span></span>

<span data-ttu-id="c946a-209">–ï—Å–ª–∏ –º–µ—Ç–æ–¥ `Dispose` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ç–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-209">If the component's `Dispose` method throws an unhandled exception, the exception is fatal to a Blazor Server circuit.</span></span> <span data-ttu-id="c946a-210">–ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-210">If disposal logic may throw exceptions, the app should trap the exceptions using a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

<span data-ttu-id="c946a-211">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ <xref:blazor/components/lifecycle#component-disposal-with-idisposable>.</span><span class="sxs-lookup"><span data-stu-id="c946a-211">For more information on component disposal, see <xref:blazor/components/lifecycle#component-disposal-with-idisposable>.</span></span>

### <a name="javascript-interop"></a><span data-ttu-id="c946a-212">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å JavaScript</span><span class="sxs-lookup"><span data-stu-id="c946a-212">JavaScript interop</span></span>

<span data-ttu-id="c946a-213"><xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A?displayProperty=nameWithType> –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–¥—É .NET –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-213"><xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A?displayProperty=nameWithType> allows .NET code to make asynchronous calls to the JavaScript runtime in the user's browser.</span></span>

<span data-ttu-id="c946a-214">–ö –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:</span><span class="sxs-lookup"><span data-stu-id="c946a-214">The following conditions apply to error handling with <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A>:</span></span>

* <span data-ttu-id="c946a-215">–ï—Å–ª–∏ –≤—ã–∑–æ–≤ –∫ <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ .NET.</span><span class="sxs-lookup"><span data-stu-id="c946a-215">If a call to <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> fails synchronously, a .NET exception occurs.</span></span> <span data-ttu-id="c946a-216">–í—ã–∑–æ–≤ –∫ <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ—à–∏–±–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã.</span><span class="sxs-lookup"><span data-stu-id="c946a-216">A call to <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> may fail, for example, because the supplied arguments can't be serialized.</span></span> <span data-ttu-id="c946a-217">–ö–æ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-217">Developer code must catch the exception.</span></span> <span data-ttu-id="c946a-218">–ï—Å–ª–∏ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –º–µ—Ç–æ–¥–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-218">If app code in an event handler or component lifecycle method doesn't handle an exception, the resulting exception is fatal to a Blazor Server circuit.</span></span>
* <span data-ttu-id="c946a-219">–ï—Å–ª–∏ –≤—ã–∑–æ–≤ <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–±–æ–µ–º, .NET <xref:System.Threading.Tasks.Task> —Ç–∞–∫–∂–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–±–æ–µ–º.</span><span class="sxs-lookup"><span data-stu-id="c946a-219">If a call to <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> fails asynchronously, the .NET <xref:System.Threading.Tasks.Task> fails.</span></span> <span data-ttu-id="c946a-220">–í—ã–∑–æ–≤ –∫ <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ—à–∏–±–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–¥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ JavaScript –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise`, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∑–∞–≤–µ—Ä—à–µ–Ω –∫–∞–∫ `rejected`.</span><span class="sxs-lookup"><span data-stu-id="c946a-220">A call to <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> may fail, for example, because the JavaScript-side code throws an exception or returns a `Promise` that completed as `rejected`.</span></span> <span data-ttu-id="c946a-221">–ö–æ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-221">Developer code must catch the exception.</span></span> <span data-ttu-id="c946a-222">–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ [`await`](/dotnet/csharp/language-reference/keywords/await)—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–∫–ª—é—á–∏—Ç—å –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-222">If using the [`await`](/dotnet/csharp/language-reference/keywords/await) operator, consider wrapping the method call in a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span> <span data-ttu-id="c946a-223">–í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Å–±–æ–π –∫–æ–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server.</span><span class="sxs-lookup"><span data-stu-id="c946a-223">Otherwise, the failing code results in an unhandled exception that's fatal to a Blazor Server circuit.</span></span>
* <span data-ttu-id="c946a-224">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∑–æ–≤—ã –∫ <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> –¥–æ–ª–∂–Ω—ã –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –∏–ª–∏ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤—ã–∑–æ–≤–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç. –ü–µ—Ä–∏–æ–¥ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω—É –º–∏–Ω—É—Ç—É.</span><span class="sxs-lookup"><span data-stu-id="c946a-224">By default, calls to <xref:Microsoft.JSInterop.IJSRuntime.InvokeAsync%2A> must complete within a certain period or else the call times out. The default timeout period is one minute.</span></span> <span data-ttu-id="c946a-225">–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞—â–∏—â–∞–µ—Ç –∫–æ–¥ –æ—Ç –ø–æ—Ç–µ—Ä–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–ª–∏ –∫–æ–¥–∞ JavaScript, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-225">The timeout protects the code against a loss in network connectivity or JavaScript code that never sends back a completion message.</span></span> <span data-ttu-id="c946a-226">–ï—Å–ª–∏ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤—ã–∑–æ–≤–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç <xref:System.Threading.Tasks> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º <xref:System.OperationCanceledException>.</span><span class="sxs-lookup"><span data-stu-id="c946a-226">If the call times out, the resulting <xref:System.Threading.Tasks> fails with an <xref:System.OperationCanceledException>.</span></span> <span data-ttu-id="c946a-227">–ü–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-227">Trap and process the exception with logging.</span></span>

<span data-ttu-id="c946a-228">–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∫–æ–¥ JavaScript –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ .NET, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –∞—Ç—Ä–∏–±—É—Ç–µ [`[JSInvokable]`](xref:blazor/call-dotnet-from-javascript).</span><span class="sxs-lookup"><span data-stu-id="c946a-228">Similarly, JavaScript code may initiate calls to .NET methods indicated by the [`[JSInvokable]`](xref:blazor/call-dotnet-from-javascript) attribute.</span></span> <span data-ttu-id="c946a-229">–ï—Å–ª–∏ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã .NET —Å–æ–∑–¥–∞—é—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:</span><span class="sxs-lookup"><span data-stu-id="c946a-229">If these .NET methods throw an unhandled exception:</span></span>

* <span data-ttu-id="c946a-230">–∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º–æ–µ –¥–ª—è –∫–∞–Ω–∞–ª–∞ Blazor Server;</span><span class="sxs-lookup"><span data-stu-id="c946a-230">The exception isn't treated as fatal to a Blazor Server circuit.</span></span>
* <span data-ttu-id="c946a-231">`Promise` –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ JavaScript –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-231">The JavaScript-side `Promise` is rejected.</span></span>

<span data-ttu-id="c946a-232">–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ª–∏–±–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ .NET, –ª–∏–±–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ JavaScript –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-232">You have the option of using error handling code on either the .NET side or the JavaScript side of the method call.</span></span>

<span data-ttu-id="c946a-233">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö:</span><span class="sxs-lookup"><span data-stu-id="c946a-233">For more information, see the following articles:</span></span>

* <xref:blazor/call-javascript-from-dotnet>
* <xref:blazor/call-dotnet-from-javascript>

### <a name="blazor-server-prerendering"></a><span data-ttu-id="c946a-234">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ Blazor Server</span><span class="sxs-lookup"><span data-stu-id="c946a-234">Blazor Server prerendering</span></span>

<span data-ttu-id="c946a-235">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Blazor –º–æ–∂–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é [–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞](xref:mvc/views/tag-helpers/builtin-th/component-tag-helper), —á—Ç–æ–±—ã –∏—Ö –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ HTML –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞—Å—å –∫–∞–∫ —á–∞—Å—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-235">Blazor components can be prerendered using the [Component Tag Helper](xref:mvc/views/tag-helpers/builtin-th/component-tag-helper) so that their rendered HTML markup is returned as part of the user's initial HTTP request.</span></span> <span data-ttu-id="c946a-236">–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</span><span class="sxs-lookup"><span data-stu-id="c946a-236">This works by:</span></span>

* <span data-ttu-id="c946a-237">–°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</span><span class="sxs-lookup"><span data-stu-id="c946a-237">Creating a new circuit for all of the prerendered components that are part of the same page.</span></span>
* <span data-ttu-id="c946a-238">–°–æ–∑–¥–∞–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–π HTML-–∫–æ–¥.</span><span class="sxs-lookup"><span data-stu-id="c946a-238">Generating the initial HTML.</span></span>
* <span data-ttu-id="c946a-239">–ö–∞–Ω–∞–ª —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ `disconnected`, –ø–æ–∫–∞ –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SignalR –∫ —Ç–æ–º—É –∂–µ —Å–µ—Ä–≤–µ—Ä—É.</span><span class="sxs-lookup"><span data-stu-id="c946a-239">Treating the circuit as `disconnected` until the user's browser establishes a SignalR connection back to the same server.</span></span> <span data-ttu-id="c946a-240">–ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–∞–Ω–∞–ª–æ–º –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∞ HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-240">When the connection is established, interactivity on the circuit is resumed and the components' HTML markup is updated.</span></span>

<span data-ttu-id="c946a-241">–ï—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ –≤—Ä–µ–º—è –º–µ—Ç–æ–¥–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏–ª–∏ –≤ –ª–æ–≥–∏–∫–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:</span><span class="sxs-lookup"><span data-stu-id="c946a-241">If any component throws an unhandled exception during prerendering, for example, during a lifecycle method or in rendering logic:</span></span>

* <span data-ttu-id="c946a-242">–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—É—Å—Ç—Ä–∞–Ω–∏–º—ã–º –¥–ª—è –∫–∞–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-242">The exception is fatal to the circuit.</span></span>
* <span data-ttu-id="c946a-243">–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–∫–µ –≤—ã–∑–æ–≤–æ–≤ –∏–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–≥–∞ <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper>.</span><span class="sxs-lookup"><span data-stu-id="c946a-243">The exception is thrown up the call stack from the <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper> Tag Helper.</span></span> <span data-ttu-id="c946a-244">–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–µ—Å—å HTTP-–∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —è–≤–Ω–æ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –∫–æ–¥–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-244">Therefore, the entire HTTP request fails unless the exception is explicitly caught by developer code.</span></span>

<span data-ttu-id="c946a-245">–í –æ–±—ã—á–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –ø—Ä–∏ —Å–±–æ–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞, —Ç–∞–∫ –∫–∞–∫ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Ä–∞–±–æ—á–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.</span><span class="sxs-lookup"><span data-stu-id="c946a-245">Under normal circumstances when prerendering fails, continuing to build and render the component doesn't make sense because a working component can't be rendered.</span></span>

<span data-ttu-id="c946a-246">–ß—Ç–æ–±—ã –¥–æ–ø—É—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤–æ –≤—Ä–µ–º—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –¥–æ–ª–∂–Ω–∞ —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-246">To tolerate errors that may occur during prerendering, error handling logic must be placed inside a component that may throw exceptions.</span></span> <span data-ttu-id="c946a-247">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-247">Use [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statements with error handling and logging.</span></span> <span data-ttu-id="c946a-248">–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Ç–µ–≥–∞ <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper> –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch), –ø–æ–º–µ—Å—Ç–∏—Ç–µ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º—ã–π –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π —Ç–µ–≥–∞ <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper>.</span><span class="sxs-lookup"><span data-stu-id="c946a-248">Instead of wrapping the <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper> Tag Helper in a [`try-catch`](/dotnet/csharp/language-reference/keywords/try-catch) statement, place error handling logic in the component rendered by the <xref:Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper> Tag Helper.</span></span>

## <a name="advanced-scenarios"></a><span data-ttu-id="c946a-249">–°–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-249">Advanced scenarios</span></span>

### <a name="recursive-rendering"></a><span data-ttu-id="c946a-250">–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞</span><span class="sxs-lookup"><span data-stu-id="c946a-250">Recursive rendering</span></span>

<span data-ttu-id="c946a-251">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.</span><span class="sxs-lookup"><span data-stu-id="c946a-251">Components can be nested recursively.</span></span> <span data-ttu-id="c946a-252">–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö.</span><span class="sxs-lookup"><span data-stu-id="c946a-252">This is useful for representing recursive data structures.</span></span> <span data-ttu-id="c946a-253">–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TreeNode` –º–æ–∂–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `TreeNode` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–∑–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-253">For example, a `TreeNode` component can render more `TreeNode` components for each of the node's children.</span></span>

<span data-ttu-id="c946a-254">–ü—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –∏–∑–±–µ–≥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏:</span><span class="sxs-lookup"><span data-stu-id="c946a-254">When rendering recursively, avoid coding patterns that result in infinite recursion:</span></span>

* <span data-ttu-id="c946a-255">–ù–µ —Å–ª–µ–¥—É–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ü–∏–∫–ª.</span><span class="sxs-lookup"><span data-stu-id="c946a-255">Don't recursively render a data structure that contains a cycle.</span></span> <span data-ttu-id="c946a-256">–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Å–ª–µ–¥—É–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞, –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–∞–º–∏ —Å–µ–±—è.</span><span class="sxs-lookup"><span data-stu-id="c946a-256">For example, don't render a tree node whose children includes itself.</span></span>
* <span data-ttu-id="c946a-257">–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ü–µ–ø–æ—á–∫—É –º–∞–∫–µ—Ç–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —Ü–∏–∫–ª.</span><span class="sxs-lookup"><span data-stu-id="c946a-257">Don't create a chain of layouts that contain a cycle.</span></span> <span data-ttu-id="c946a-258">–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∞–∫–µ—Ç, –º–∞–∫–µ—Ç–æ–º –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –æ–Ω —Å–∞–º.</span><span class="sxs-lookup"><span data-stu-id="c946a-258">For example, don't create a layout whose layout is itself.</span></span>
* <span data-ttu-id="c946a-259">–ù–µ —Ä–∞–∑—Ä–µ—à–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞—Ä—É—à–∞—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∫—É—Ä—Å–∏–∏ (–ø—Ä–∞–≤–∏–ª–∞) —Å –ø–æ–º–æ—â—å—é –≤–≤–æ–¥–∞ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤—ã–∑–æ–≤–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c946a-259">Don't allow an end user to violate recursion invariants (rules) through malicious data entry or JavaScript interop calls.</span></span>

<span data-ttu-id="c946a-260">–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã –≤–æ –≤—Ä–µ–º—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:</span><span class="sxs-lookup"><span data-stu-id="c946a-260">Infinite loops during rendering:</span></span>

* <span data-ttu-id="c946a-261">–ü—Ä–∏–≤–æ–¥—è—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.</span><span class="sxs-lookup"><span data-stu-id="c946a-261">Causes the rendering process to continue forever.</span></span>
* <span data-ttu-id="c946a-262">–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã —Å–æ–∑–¥–∞–Ω–∏—é –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-262">Is equivalent to creating an unterminated loop.</span></span>

<span data-ttu-id="c946a-263">–í —ç—Ç–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–±–æ–π –∫–∞–Ω–∞–ª–∞ Blazor Server, –∏ –ø–æ—Ç–æ–∫ –æ–±—ã—á–Ω–æ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:</span><span class="sxs-lookup"><span data-stu-id="c946a-263">In these scenarios, an affected Blazor Server circuit fails, and the thread usually attempts to:</span></span>

* <span data-ttu-id="c946a-264">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –≤ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –æ–±—ä–µ–º–µ.</span><span class="sxs-lookup"><span data-stu-id="c946a-264">Consume as much CPU time as permitted by the operating system, indefinitely.</span></span>
* <span data-ttu-id="c946a-265">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –æ–±—ä–µ–º–∞ –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-265">Consume an unlimited amount of server memory.</span></span> <span data-ttu-id="c946a-266">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –ø–∞–º—è—Ç–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —Å—Ü–µ–Ω–∞—Ä–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-266">Consuming unlimited memory is equivalent to the scenario where an unterminated loop adds entries to a collection on every iteration.</span></span>

<span data-ttu-id="c946a-267">–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –∫–æ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —É—Å–ª–æ–≤–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-267">To avoid infinite recursion patterns, ensure that recursive rendering code contains suitable stopping conditions.</span></span>

### <a name="custom-render-tree-logic"></a><span data-ttu-id="c946a-268">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –¥–µ—Ä–µ–≤–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</span><span class="sxs-lookup"><span data-stu-id="c946a-268">Custom render tree logic</span></span>

<span data-ttu-id="c946a-269">–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Blazor —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª—ã `.razor` –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</span><span class="sxs-lookup"><span data-stu-id="c946a-269">Most Blazor components are implemented as `.razor` files and are compiled to produce logic that operates on a <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> to render their output.</span></span> <span data-ttu-id="c946a-270">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –≤—Ä—É—á–Ω—É—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ C#.</span><span class="sxs-lookup"><span data-stu-id="c946a-270">A developer may manually implement <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> logic using procedural C# code.</span></span> <span data-ttu-id="c946a-271">–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. <xref:blazor/advanced-scenarios#manual-rendertreebuilder-logic>.</span><span class="sxs-lookup"><span data-stu-id="c946a-271">For more information, see <xref:blazor/advanced-scenarios#manual-rendertreebuilder-logic>.</span></span>

> [!WARNING]
> <span data-ttu-id="c946a-272">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π –≤—Ä—É—á–Ω—É—é –ª–æ–≥–∏–∫–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—è –¥–µ—Ä–µ–≤–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–º, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º –¥–ª—è –æ–±—ã—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.</span><span class="sxs-lookup"><span data-stu-id="c946a-272">Use of manual render tree builder logic is considered an advanced and unsafe scenario, not recommended for general component development.</span></span>

<span data-ttu-id="c946a-273">–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-273">If <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder> code is written, the developer must guarantee the correctness of the code.</span></span> <span data-ttu-id="c946a-274">–ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ:</span><span class="sxs-lookup"><span data-stu-id="c946a-274">For example, the developer must ensure that:</span></span>

* <span data-ttu-id="c946a-275">–í—ã–∑–æ–≤—ã –∫ <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder.OpenElement%2A> –∏ <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder.CloseElement%2A> –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã.</span><span class="sxs-lookup"><span data-stu-id="c946a-275">Calls to <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder.OpenElement%2A> and <xref:Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder.CloseElement%2A> are correctly balanced.</span></span>
* <span data-ttu-id="c946a-276">–ê—Ç—Ä–∏–±—É—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω—É–∂–Ω—ã–µ –º–µ—Å—Ç–∞.</span><span class="sxs-lookup"><span data-stu-id="c946a-276">Attributes are only added in the correct places.</span></span>

<span data-ttu-id="c946a-277">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π –≤—Ä—É—á–Ω—É—é –ª–æ–≥–∏–∫–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—è –¥–µ—Ä–µ–≤–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤–∫–ª—é—á–∞—è —Å–±–æ–∏, –∑–∞–≤–∏—Å–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</span><span class="sxs-lookup"><span data-stu-id="c946a-277">Incorrect manual render tree builder logic can cause arbitrary undefined behavior, including crashes, server hangs, and security vulnerabilities.</span></span>

<span data-ttu-id="c946a-278">–°—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –≤—Ä—É—á–Ω—É—é –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—è –¥–µ—Ä–µ–≤–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–º–µ–µ—Ç —Ç–æ—Ç –∂–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ *–æ–ø–∞—Å–Ω–æ—Å—Ç–∏*, —á—Ç–æ –∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞ —Å–±–æ—Ä–∫–∏ –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π MSIL –≤—Ä—É—á–Ω—É—é.</span><span class="sxs-lookup"><span data-stu-id="c946a-278">Consider manual render tree builder logic on the same level of complexity and with the same level of *danger* as writing assembly code or MSIL instructions by hand.</span></span>
