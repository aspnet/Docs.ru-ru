---
title: Зачем выполнять миграцию WCF на ASP.NET Core gRPC
author: markrendle
description: В этой статье приводятся сводные сведения о достоинствах ASP.NET Core gRPC для разработчиков на Windows Communication Foundation (WCF), которые хотят перейти на современные архитектуры и платформы.
monikerRange: '>= aspnetcore-3.0'
ms.author: wpickett
ms.date: 09/02/2020
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: grpc/wcf
ms.openlocfilehash: 26629b4aa5510f4ef5f53f57b64e45f6c32d4014
ms.sourcegitcommit: ca34c1ac578e7d3daa0febf1810ba5fc74f60bbf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/30/2020
ms.locfileid: "93058692"
---
# <a name="grpc-for-windows-communication-foundation-wcf-developers"></a>gRPC для разработчиков на Windows Communication Foundation (WCF)

В этой статье приводятся сводные сведения о достоинствах ASP.NET Core gRPC для разработчиков на Windows Communication Foundation (WCF), которые хотят перейти на современные архитектуры и платформы.

## <a name="comparison-to-wcf"></a>Сравнение с WCF

Хотя реализация и подход в случае с gRPC отличаются, принципы разработки и использования служб с помощью gRPC должны быть интуитивно понятными для разработчиков на WCF. WCF и gRPC — это платформы удаленного вызова процедур (RPC), преследующие одинаковые цели:

* возможность программирования клиента и сервера так, как будто они находятся на одной платформе;
* предоставление упрощенного переносимого API для сетевого взаимодействия.

Обе платформы требуют объявления и реализации интерфейса, хотя процесс объявления интерфейса отличается. Многие типы вызовов RPC, которые поддерживает gRPC, сопоставимы с привязками, доступными для служб WCF. Дополнительные сведения и примеры см. в разделе [Перенос решения WCF в gRPC](/dotnet/architecture/grpc-for-wcf-developers/migrate-wcf-to-grpc).

## <a name="benefits-of-grpc"></a>Преимущества gRPC

gRPC предоставляет собой более эффективную платформу по сравнению с другими подходами по указанным ниже причинам.

### <a name="performance"></a>Производительность

gRPC использует HTTP/2. По сравнению с HTTP/1.1 протокол HTTP/2 имеет следующие преимущества:

* представляет собой более компактный и быстрый двоичный протокол;
* более эффективно анализируется компьютерами;
* поддерживает мультиплексирование запросов через одно соединение. Мультиплексирование позволяет отправлять несколько запросов через одно соединение так, что они не блокируют друг друга. В HTTP/1.1 такое блокирование называется "блокировкой очереди (HOL)".

Для сериализации сообщений gRPC использует Protobuf, эффективный двоичный формат. Сообщения Protobuf:
* быстро сериализуются и десериализуются;
* используют меньше пропускной способности, чем текстовые форматы. 

gRPC — это хорошее решение для мобильных устройств и сетей с ограниченной пропускной способностью.

### <a name="interoperability"></a>Совместимость

Существуют средства и библиотеки gRPC для всех основных языков программирования и платформ, включая .NET, Java, Python, Go, C++, Node.js, Swift, Dart, Ruby и PHP. Благодаря двоичному формату подключения Protobuf и эффективному формированию кода для каждой платформы разработчики могут создавать производительные кроссплатформенные приложения.

### <a name="usability-and-productivity"></a>Удобство использования и производительность

gRPC — это комплексное решение RPC. Оно работает согласованно на различных языках и платформах. Для него также доступен развитый инструментарий, причем большая часть стандартного кода создается автоматически. Как и WCF, gRPC автоматически создает сообщения и строго типизированный клиент. Разработчик может сосредоточиться на бизнес-логике.

### <a name="streaming"></a>Потоковые операторы

gRPC поддерживает двунаправленную потоковую передачу, которая обеспечивает функциональность, аналогичную полнодуплексным службам WCF. Потоковая передача gRPC может производиться по обычным подключениям через Интернет, посредством подсистем балансировки нагрузки и через одноранговые сети служб.

### <a name="deadlines-timeouts-and-cancellation"></a>Крайний срок, время ожидания и отмена

gRPC позволяет клиентам указать максимальное время, в течение которого должен быть завершен вызов RPC. При истечении указанного крайнего срока сервер может отменить операцию независимо от клиента. Крайний срок и отмена могут распространяться через последующие вызовы gRPC с целью применения ограничений на использование ресурсов. Клиенты могут прекращать операции при наступлении крайнего срока или ранее при необходимости. Например, клиент может прервать операцию из-за действия пользователя.

### <a name="security"></a>Безопасность

gRPC может использовать протоколы TLS и HTTP/2 для обеспечения соединения между клиентом и сервером со сквозным шифрованием. Поддержка проверки подлинности с помощью сертификата клиента еще более усиливает безопасность и доверие между клиентом и сервером.

## <a name="grpc-as-a-migration-path-for-wcf-to-net-core-and-net-5"></a>gRPC как путь перехода с WCF на .NET Core и .NET 5

.NET Core и .NET 5 знаменуют собой сдвиг в подходе корпорации Майкрософт к предоставлению решений для удаленного взаимодействия разработчикам, которые хотят создавать службы на различных платформах. .NET Core и .NET 5 поддерживают [вызов служб WCF](/dotnet/core/additional-tools/wcf-web-service-reference-guide), но не предлагают поддержки для размещения WCF на стороне сервера.

Существует два рекомендуемых способа модернизации приложений WCF.

* Платформа gRPC основана на современных технологиях и стала наиболее популярным выбором для приложений RPC среди сообщества разработчиков. Начиная с .NET Core 3.0 современные платформы .NET обладают отличной поддержкой gRPC. Перенос служб WCF на gRPC помогает обеспечить функциональность RPC, производительность и взаимодействие, необходимые в современных приложениях.

* [CoreWCF](https://github.com/CoreWCF/CoreWCF) — это проект сообщества, цель которого — обеспечить поддержку размещения служб WCF в .NET Core и .NET 5. В настоящее время доступен предварительный выпуск, и идет работа над рабочей версией. CoreWCF поддерживает только часть функций WCF. Для успешной работы приложений .NET Framework, которые переносятся на эту платформу, потребуется внести изменения в код и провести тестирование. CoreWCF — подходящий вариант, если приложение должно сохранять совместимость с существующими клиентами, вызывающими службы WCF.

## <a name="get-started"></a>Начало работы

Подробные рекомендации по созданию служб gRPC в ASP.NET Core для разработчиков на WCF см. в статье [ASP.NET Core gRPC для разработчиков WCF](/dotnet/architecture/grpc-for-wcf-developers).
