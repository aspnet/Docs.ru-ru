---
title: Сравнение служб gRPC с API-интерфейсами HTTP
author: jamesnk
description: Узнайте об отличиях gRPC от API HTTP и рекомендуемых сценариях использования.
monikerRange: '>= aspnetcore-3.0'
ms.author: jamesnk
ms.date: 12/05/2019
no-loc:
- 'appsettings.json'
- 'ASP.NET Core Identity'
- 'cookie'
- 'Cookie'
- 'Blazor'
- 'Blazor Server'
- 'Blazor WebAssembly'
- 'Identity'
- "Let's Encrypt"
- 'Razor'
- 'SignalR'
uid: grpc/comparison
ms.openlocfilehash: 0fb50f07153f5f9953b667fe32062ad24b2bd66d
ms.sourcegitcommit: ca34c1ac578e7d3daa0febf1810ba5fc74f60bbf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/30/2020
ms.locfileid: "93059953"
---
# <a name="compare-grpc-services-with-http-apis"></a><span data-ttu-id="f11e8-103">Сравнение служб gRPC с API-интерфейсами HTTP</span><span class="sxs-lookup"><span data-stu-id="f11e8-103">Compare gRPC services with HTTP APIs</span></span>

<span data-ttu-id="f11e8-104">Автор: [Джеймс Ньютон-Кинг](https://twitter.com/jamesnk) (James Newton-King)</span><span class="sxs-lookup"><span data-stu-id="f11e8-104">By [James Newton-King](https://twitter.com/jamesnk)</span></span>

<span data-ttu-id="f11e8-105">В этой статье объясняется, чем [службы gRPC](https://grpc.io/docs/guides/) отличаются от API HTTP с JSON (включая [веб-API](xref:web-api/index) ASP.NET Core).</span><span class="sxs-lookup"><span data-stu-id="f11e8-105">This article explains how [gRPC services](https://grpc.io/docs/guides/) compare to HTTP APIs with JSON (including ASP.NET Core [web APIs](xref:web-api/index)).</span></span> <span data-ttu-id="f11e8-106">Важно правильно выбрать технологию для предоставления API для вашего приложения, и gRPC предлагает уникальные преимущества по сравнению с API HTTP.</span><span class="sxs-lookup"><span data-stu-id="f11e8-106">The technology used to provide an API for your app is an important choice, and gRPC offers unique benefits compared to HTTP APIs.</span></span> <span data-ttu-id="f11e8-107">В этой статье обсуждаются сильные и слабые стороны gRPC и приводятся рекомендации по использованию gRPC вместо других технологий.</span><span class="sxs-lookup"><span data-stu-id="f11e8-107">This article discusses the strengths and weaknesses of gRPC and recommends scenarios for using gRPC over other technologies.</span></span>

## <a name="high-level-comparison"></a><span data-ttu-id="f11e8-108">Общее сравнение</span><span class="sxs-lookup"><span data-stu-id="f11e8-108">High-level comparison</span></span>

<span data-ttu-id="f11e8-109">В следующей таблице представлено общее сравнение функций gRPC и API HTTP с JSON.</span><span class="sxs-lookup"><span data-stu-id="f11e8-109">The following table offers a high-level comparison of features between gRPC and HTTP APIs with JSON.</span></span>

| <span data-ttu-id="f11e8-110">Функция</span><span class="sxs-lookup"><span data-stu-id="f11e8-110">Feature</span></span>          | <span data-ttu-id="f11e8-111">gRPC</span><span class="sxs-lookup"><span data-stu-id="f11e8-111">gRPC</span></span>                                               | <span data-ttu-id="f11e8-112">API HTTP с JSON</span><span class="sxs-lookup"><span data-stu-id="f11e8-112">HTTP APIs with JSON</span></span>           |
| ---------------- | -------------------------------------------------- | ----------------------------- |
| <span data-ttu-id="f11e8-113">Контракт</span><span class="sxs-lookup"><span data-stu-id="f11e8-113">Contract</span></span>         | <span data-ttu-id="f11e8-114">Обязательно ( *PROTO* )</span><span class="sxs-lookup"><span data-stu-id="f11e8-114">Required ( *.proto* )</span></span>                                | <span data-ttu-id="f11e8-115">Необязательно (OpenAPI)</span><span class="sxs-lookup"><span data-stu-id="f11e8-115">Optional (OpenAPI)</span></span>            |
| <span data-ttu-id="f11e8-116">Протокол</span><span class="sxs-lookup"><span data-stu-id="f11e8-116">Protocol</span></span>         | <span data-ttu-id="f11e8-117">HTTP/2</span><span class="sxs-lookup"><span data-stu-id="f11e8-117">HTTP/2</span></span>                                             | <span data-ttu-id="f11e8-118">HTTP</span><span class="sxs-lookup"><span data-stu-id="f11e8-118">HTTP</span></span>                          |
| <span data-ttu-id="f11e8-119">Payload</span><span class="sxs-lookup"><span data-stu-id="f11e8-119">Payload</span></span>          | [<span data-ttu-id="f11e8-120">Protobuf (малый, двоичный)</span><span class="sxs-lookup"><span data-stu-id="f11e8-120">Protobuf (small, binary)</span></span>](#performance)           | <span data-ttu-id="f11e8-121">JSON (большой, удобочитаемый)</span><span class="sxs-lookup"><span data-stu-id="f11e8-121">JSON (large, human readable)</span></span>  |
| <span data-ttu-id="f11e8-122">Обязательность</span><span class="sxs-lookup"><span data-stu-id="f11e8-122">Prescriptiveness</span></span> | [<span data-ttu-id="f11e8-123">Строгая спецификация</span><span class="sxs-lookup"><span data-stu-id="f11e8-123">Strict specification</span></span>](#strict-specification)      | <span data-ttu-id="f11e8-124">Нестрого.</span><span class="sxs-lookup"><span data-stu-id="f11e8-124">Loose.</span></span> <span data-ttu-id="f11e8-125">Допустимы все HTTP-протоколы.</span><span class="sxs-lookup"><span data-stu-id="f11e8-125">Any HTTP is valid.</span></span>     |
| <span data-ttu-id="f11e8-126">Потоковые операторы</span><span class="sxs-lookup"><span data-stu-id="f11e8-126">Streaming</span></span>        | [<span data-ttu-id="f11e8-127">Клиент, сервер, оба направления</span><span class="sxs-lookup"><span data-stu-id="f11e8-127">Client, server, bi-directional</span></span>](#streaming)       | <span data-ttu-id="f11e8-128">Клиент, сервер</span><span class="sxs-lookup"><span data-stu-id="f11e8-128">Client, server</span></span>                |
| <span data-ttu-id="f11e8-129">Поддержка браузеров</span><span class="sxs-lookup"><span data-stu-id="f11e8-129">Browser support</span></span>  | [<span data-ttu-id="f11e8-130">Нет (требуется grpc-web)</span><span class="sxs-lookup"><span data-stu-id="f11e8-130">No (requires grpc-web)</span></span>](#limited-browser-support) | <span data-ttu-id="f11e8-131">Да</span><span class="sxs-lookup"><span data-stu-id="f11e8-131">Yes</span></span>                           |
| <span data-ttu-id="f11e8-132">Безопасность</span><span class="sxs-lookup"><span data-stu-id="f11e8-132">Security</span></span>         | <span data-ttu-id="f11e8-133">Транспорт (TLS)</span><span class="sxs-lookup"><span data-stu-id="f11e8-133">Transport (TLS)</span></span>                                    | <span data-ttu-id="f11e8-134">Транспорт (TLS)</span><span class="sxs-lookup"><span data-stu-id="f11e8-134">Transport (TLS)</span></span>               |
| <span data-ttu-id="f11e8-135">Создание кода клиента</span><span class="sxs-lookup"><span data-stu-id="f11e8-135">Client code-generation</span></span> | [<span data-ttu-id="f11e8-136">Да</span><span class="sxs-lookup"><span data-stu-id="f11e8-136">Yes</span></span>](#code-generation)                      | <span data-ttu-id="f11e8-137">OpenAPI + сторонние средства</span><span class="sxs-lookup"><span data-stu-id="f11e8-137">OpenAPI + third-party tooling</span></span> |

## <a name="grpc-strengths"></a><span data-ttu-id="f11e8-138">Сильные стороны gRPC</span><span class="sxs-lookup"><span data-stu-id="f11e8-138">gRPC strengths</span></span>

### <a name="performance"></a><span data-ttu-id="f11e8-139">Производительность</span><span class="sxs-lookup"><span data-stu-id="f11e8-139">Performance</span></span>

<span data-ttu-id="f11e8-140">Сообщения gRPC сериализуются с помощью [Protobuf](https://developers.google.com/protocol-buffers/docs/overview) — эффективного двоичного формата сообщений.</span><span class="sxs-lookup"><span data-stu-id="f11e8-140">gRPC messages are serialized using [Protobuf](https://developers.google.com/protocol-buffers/docs/overview), an efficient binary message format.</span></span> <span data-ttu-id="f11e8-141">Protobuf очень быстро выполняет сериализацию на сервере и клиенте.</span><span class="sxs-lookup"><span data-stu-id="f11e8-141">Protobuf serializes very quickly on the server and client.</span></span> <span data-ttu-id="f11e8-142">Сериализация Protobuf приводит к небольшому объему полезных данных сообщения, а это важно в сценариях с ограниченной пропускной способностью, например для мобильных приложений.</span><span class="sxs-lookup"><span data-stu-id="f11e8-142">Protobuf serialization results in small message payloads, important in limited bandwidth scenarios like mobile apps.</span></span>

<span data-ttu-id="f11e8-143">gRPC предназначен для протокола HTTP/2, основной версии HTTP, которая обеспечивает значительное повышение производительности по сравнению с HTTP 1.x:</span><span class="sxs-lookup"><span data-stu-id="f11e8-143">gRPC is designed for HTTP/2, a major revision of HTTP that provides significant performance benefits over HTTP 1.x:</span></span>

* <span data-ttu-id="f11e8-144">Двоичное кадрирование и сжатие.</span><span class="sxs-lookup"><span data-stu-id="f11e8-144">Binary framing and compression.</span></span> <span data-ttu-id="f11e8-145">Протокол HTTP/2 является компактным и эффективным при отправке и получении.</span><span class="sxs-lookup"><span data-stu-id="f11e8-145">HTTP/2 protocol is compact and efficient both in sending and receiving.</span></span>
* <span data-ttu-id="f11e8-146">Мультиплексирование нескольких вызовов HTTP/2 через одно TCP-соединение.</span><span class="sxs-lookup"><span data-stu-id="f11e8-146">Multiplexing of multiple HTTP/2 calls over a single TCP connection.</span></span> <span data-ttu-id="f11e8-147">Мультиплексирование устраняет [блокировки очереди](https://en.wikipedia.org/wiki/Head-of-line_blocking).</span><span class="sxs-lookup"><span data-stu-id="f11e8-147">Multiplexing eliminates [head-of-line blocking](https://en.wikipedia.org/wiki/Head-of-line_blocking).</span></span>

<span data-ttu-id="f11e8-148">HTTP/2 поддерживается не только gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-148">HTTP/2 is not exclusive to gRPC.</span></span> <span data-ttu-id="f11e8-149">Многие типы запросов, включая API HTTP с JSON, могут использовать HTTP/2, чтобы повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="f11e8-149">Many request types, including HTTP APIs with JSON, can use HTTP/2 and benefit from its performance improvements.</span></span>

### <a name="code-generation"></a><span data-ttu-id="f11e8-150">Создание кода</span><span class="sxs-lookup"><span data-stu-id="f11e8-150">Code generation</span></span>

<span data-ttu-id="f11e8-151">Все платформы gRPC предоставляют поддержку первого класса для создания кода.</span><span class="sxs-lookup"><span data-stu-id="f11e8-151">All gRPC frameworks provide first-class support for code generation.</span></span> <span data-ttu-id="f11e8-152">Базовым файлом для разработки gRPC является [PROTO-файл](https://developers.google.com/protocol-buffers/docs/proto3), который определяет контракт служб и сообщений gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-152">A core file to gRPC development is the [.proto file](https://developers.google.com/protocol-buffers/docs/proto3), which defines the contract of gRPC services and messages.</span></span> <span data-ttu-id="f11e8-153">Из этого файла платформы gRPC будут создавать базовый класс службы, сообщения и полный клиент.</span><span class="sxs-lookup"><span data-stu-id="f11e8-153">From this file gRPC frameworks will code generate a service base class, messages, and a complete client.</span></span>

<span data-ttu-id="f11e8-154">Благодаря совместному использованию *PROTO-файла* между сервером и клиентом сообщения и клиентский код могут быть созданы от начала до конца.</span><span class="sxs-lookup"><span data-stu-id="f11e8-154">By sharing the *.proto* file between the server and client, messages and client code can be generated from end to end.</span></span> <span data-ttu-id="f11e8-155">Создание кода клиента устраняет дублирование сообщений на клиенте и сервере, а также создает клиент со строгой типизацией.</span><span class="sxs-lookup"><span data-stu-id="f11e8-155">Code generation of the client eliminates duplication of messages on the client and server, and creates a strongly-typed client for you.</span></span> <span data-ttu-id="f11e8-156">Отсутствие необходимости писать клиент экономит много времени при разработке в приложениях со множеством служб.</span><span class="sxs-lookup"><span data-stu-id="f11e8-156">Not having to write a client saves significant development time in applications with many services.</span></span>

### <a name="strict-specification"></a><span data-ttu-id="f11e8-157">Строгая спецификация</span><span class="sxs-lookup"><span data-stu-id="f11e8-157">Strict specification</span></span>

<span data-ttu-id="f11e8-158">Формальная спецификация для API HTTP с JSON не существует.</span><span class="sxs-lookup"><span data-stu-id="f11e8-158">A formal specification for HTTP API with JSON doesn't exist.</span></span> <span data-ttu-id="f11e8-159">Разработчики спорят о лучшем формате URL-адресов, HTTP-команд и кодов ответов.</span><span class="sxs-lookup"><span data-stu-id="f11e8-159">Developers debate the best format of URLs, HTTP verbs, and response codes.</span></span>

<span data-ttu-id="f11e8-160">[Спецификация gRPC](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md) содержит строгие указания о формате, которому должна соответствовать служба gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-160">The [gRPC specification](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md) is prescriptive about the format a gRPC service must follow.</span></span> <span data-ttu-id="f11e8-161">gRPC исключает споры и экономит время разработчика, поскольку службы gRPC согласованы между платформами и реализациями.</span><span class="sxs-lookup"><span data-stu-id="f11e8-161">gRPC eliminates debate and saves developer time because gRPC is consistent across platforms and implementations.</span></span>

### <a name="streaming"></a><span data-ttu-id="f11e8-162">Потоковые операторы</span><span class="sxs-lookup"><span data-stu-id="f11e8-162">Streaming</span></span>

<span data-ttu-id="f11e8-163">HTTP/2 предоставляет основу для долгосрочных потоков связи в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="f11e8-163">HTTP/2 provides a foundation for long-lived, real-time communication streams.</span></span> <span data-ttu-id="f11e8-164">gRPC предоставляет поддержку первого класса для потоковой передачи через HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="f11e8-164">gRPC provides first-class support for streaming through HTTP/2.</span></span>

<span data-ttu-id="f11e8-165">Служба gRPC поддерживает все сочетания потоков:</span><span class="sxs-lookup"><span data-stu-id="f11e8-165">A gRPC service supports all streaming combinations:</span></span>

* <span data-ttu-id="f11e8-166">Унарный (нет потоковой передачи)</span><span class="sxs-lookup"><span data-stu-id="f11e8-166">Unary (no streaming)</span></span>
* <span data-ttu-id="f11e8-167">Потоковая передача от сервера к клиенту</span><span class="sxs-lookup"><span data-stu-id="f11e8-167">Server to client streaming</span></span>
* <span data-ttu-id="f11e8-168">Потоковая передача от клиента к серверу</span><span class="sxs-lookup"><span data-stu-id="f11e8-168">Client to server streaming</span></span>
* <span data-ttu-id="f11e8-169">Двунаправленная потоковая передача</span><span class="sxs-lookup"><span data-stu-id="f11e8-169">Bi-directional streaming</span></span>

### <a name="deadlinetimeouts-and-cancellation"></a><span data-ttu-id="f11e8-170">Крайний срок, время ожидания и отмена</span><span class="sxs-lookup"><span data-stu-id="f11e8-170">Deadline/timeouts and cancellation</span></span>

<span data-ttu-id="f11e8-171">gRPC позволяет клиентам указать, как долго они хотят ожидать завершения RPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-171">gRPC allows clients to specify how long they are willing to wait for an RPC to complete.</span></span> <span data-ttu-id="f11e8-172">[Крайний срок](https://grpc.io/blog/deadlines) отправляется на сервер, и сервер может решить, какое действие следует предпринять, когда крайний срок превышен.</span><span class="sxs-lookup"><span data-stu-id="f11e8-172">The [deadline](https://grpc.io/blog/deadlines) is sent to the server, and the server can decide what action to take if it exceeds the deadline.</span></span> <span data-ttu-id="f11e8-173">Например, сервер может отменять выполняющиеся запросы gRPC/HTTP/базы данных по истечении времени ожидания.</span><span class="sxs-lookup"><span data-stu-id="f11e8-173">For example, the server might cancel in-progress gRPC/HTTP/database requests on timeout.</span></span>

<span data-ttu-id="f11e8-174">Распространение крайнего срока и отмены через дочерние вызовы gRPC помогает применять ограничения использования ресурсов.</span><span class="sxs-lookup"><span data-stu-id="f11e8-174">Propagating the deadline and cancellation through child gRPC calls helps enforce resource usage limits.</span></span>

## <a name="grpc-recommended-scenarios"></a><span data-ttu-id="f11e8-175">Рекомендуемые сценарии gRPC</span><span class="sxs-lookup"><span data-stu-id="f11e8-175">gRPC recommended scenarios</span></span>

<span data-ttu-id="f11e8-176">gRPC хорошо подходит для следующих сценариев:</span><span class="sxs-lookup"><span data-stu-id="f11e8-176">gRPC is well suited to the following scenarios:</span></span>

* <span data-ttu-id="f11e8-177">**Микрослужбы**  — gRPC обеспечивает малое время задержки и высокую пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="f11e8-177">**Microservices** : gRPC is designed for low latency and high throughput communication.</span></span> <span data-ttu-id="f11e8-178">gRPC отлично подходит для упрощенных микрослужб, где важна эффективность.</span><span class="sxs-lookup"><span data-stu-id="f11e8-178">gRPC is great for lightweight microservices where efficiency is critical.</span></span>
* <span data-ttu-id="f11e8-179">**Взаимодействие между точками в реальном времени**  — gRPC полноценно поддерживает двунаправленную потоковую передачу.</span><span class="sxs-lookup"><span data-stu-id="f11e8-179">**Point-to-point real-time communication** : gRPC has excellent support for bi-directional streaming.</span></span> <span data-ttu-id="f11e8-180">Службы gRPC могут отправлять сообщения в режиме реального времени без опроса.</span><span class="sxs-lookup"><span data-stu-id="f11e8-180">gRPC services can push messages in real-time without polling.</span></span>
* <span data-ttu-id="f11e8-181">**Среды с разными языками**  — средства gRPC поддерживают все популярные языки разработки, поэтому gRPC является хорошим выбором для многоязыковых сред.</span><span class="sxs-lookup"><span data-stu-id="f11e8-181">**Polyglot environments** : gRPC tooling supports all popular development languages, making gRPC a good choice for multi-language environments.</span></span>
* <span data-ttu-id="f11e8-182">**Среды с ограниченными ресурсами сети**  — сообщения gRPC сериализуются с помощью Protobuf и имеют упрощенный формат.</span><span class="sxs-lookup"><span data-stu-id="f11e8-182">**Network constrained environments** : gRPC messages are serialized with Protobuf, a lightweight message format.</span></span> <span data-ttu-id="f11e8-183">Сообщение gRPC всегда меньше, чем эквивалентное сообщение JSON.</span><span class="sxs-lookup"><span data-stu-id="f11e8-183">A gRPC message is always smaller than an equivalent JSON message.</span></span>
* <span data-ttu-id="f11e8-184">**Межпроцессное взаимодействие (IPC)** . Для взаимодействия приложений на одном компьютере вместе с gRPC можно использовать транспорты IPC, такие как сокеты доменов UNIX и именованные каналы.</span><span class="sxs-lookup"><span data-stu-id="f11e8-184">**Inter-process communication (IPC)** : IPC transports such as Unix domain sockets and named pipes can be used with gRPC to communicate between apps on the same machine.</span></span> <span data-ttu-id="f11e8-185">Для получения дополнительной информации см. <xref:grpc/interprocess>.</span><span class="sxs-lookup"><span data-stu-id="f11e8-185">For more information, see <xref:grpc/interprocess>.</span></span>

## <a name="grpc-weaknesses"></a><span data-ttu-id="f11e8-186">Слабые стороны gRPC</span><span class="sxs-lookup"><span data-stu-id="f11e8-186">gRPC weaknesses</span></span>

### <a name="limited-browser-support"></a><span data-ttu-id="f11e8-187">Ограниченная поддержка веб-браузера</span><span class="sxs-lookup"><span data-stu-id="f11e8-187">Limited browser support</span></span>

<span data-ttu-id="f11e8-188">Сейчас невозможно напрямую вызвать службу gRPC из браузера.</span><span class="sxs-lookup"><span data-stu-id="f11e8-188">It's impossible to directly call a gRPC service from a browser today.</span></span> <span data-ttu-id="f11e8-189">gRPC активно использует функции HTTP/2, и ни один браузер не предоставляет необходимый уровень контроля над веб-запросами для поддержки клиента gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-189">gRPC heavily uses HTTP/2 features and no browser provides the level of control required over web requests to support a gRPC client.</span></span> <span data-ttu-id="f11e8-190">Например, браузеры не позволяют вызывающему объекту требовать использования HTTP/2 или предоставить доступ к базовым кадрам HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="f11e8-190">For example, browsers do not allow a caller to require that HTTP/2 be used, or provide access to underlying HTTP/2 frames.</span></span>

<span data-ttu-id="f11e8-191">Существует два распространенных подхода внедрения gRPC в приложения, использующие браузер.</span><span class="sxs-lookup"><span data-stu-id="f11e8-191">There are two common approaches to bring gRPC to browser apps:</span></span>

* <span data-ttu-id="f11e8-192">[gRPC-Web-](https://grpc.io/docs/tutorials/basic/web.html) — это дополнительная технология от команды gRPC, которая предоставляет поддержку gRPC в браузере.</span><span class="sxs-lookup"><span data-stu-id="f11e8-192">[gRPC-Web](https://grpc.io/docs/tutorials/basic/web.html) is an additional technology from the gRPC team that provides gRPC support in the browser.</span></span> <span data-ttu-id="f11e8-193">gRPC-Web позволяет приложениям, использующим браузер, реализовывать преимущества gRPC, а именно высокую производительность и низкий уровень использования сети.</span><span class="sxs-lookup"><span data-stu-id="f11e8-193">gRPC-Web allows browser apps to benefit from the high-performance and low network usage of gRPC.</span></span> <span data-ttu-id="f11e8-194">gRPC-Web поддерживает не все возможности gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-194">Not all of gRPC's features are supported by gRPC-Web.</span></span> <span data-ttu-id="f11e8-195">Клиентская и двунаправленная потоковая передача не поддерживается, и существует ограниченная поддержка потоковой передачи сервера.</span><span class="sxs-lookup"><span data-stu-id="f11e8-195">Client and bi-directional streaming isn't supported, and there is limited support for server streaming.</span></span>

  <span data-ttu-id="f11e8-196">.NET Core имеет поддержку для gRPC-Web.</span><span class="sxs-lookup"><span data-stu-id="f11e8-196">.NET Core has support for gRPC-Web.</span></span> <span data-ttu-id="f11e8-197">Для получения дополнительной информации см. <xref:grpc/browser>.</span><span class="sxs-lookup"><span data-stu-id="f11e8-197">For more information, see <xref:grpc/browser>.</span></span>

* <span data-ttu-id="f11e8-198">Веб-API RESTful JSON можно создавать автоматически из служб gRPC путем добавления [метаданных HTTP](https://cloud.google.com/service-infrastructure/docs/service-management/reference/rpc/google.api#google.api.HttpRule) в файл *PROTO*.</span><span class="sxs-lookup"><span data-stu-id="f11e8-198">RESTful JSON Web APIs can be automatically created from gRPC services by annotating the *.proto* file with [HTTP metadata](https://cloud.google.com/service-infrastructure/docs/service-management/reference/rpc/google.api#google.api.HttpRule).</span></span> <span data-ttu-id="f11e8-199">Это позволяет приложению поддерживать веб-API gRPC и JSON без выполнения повторяющихся действий по созданию отдельных служб для обоих типов интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="f11e8-199">This allows an app to support both gRPC and JSON web APIs, without duplicating effort of building separate services for both.</span></span>

  <span data-ttu-id="f11e8-200">В .NET Core предусмотрена экспериментальная поддержка для создания веб-API JSON из служб gRPC.</span><span class="sxs-lookup"><span data-stu-id="f11e8-200">.NET Core has experimental support for creating JSON web APIs from gRPC services.</span></span> <span data-ttu-id="f11e8-201">Для получения дополнительной информации см. <xref:grpc/httpapi>.</span><span class="sxs-lookup"><span data-stu-id="f11e8-201">For more information, see <xref:grpc/httpapi>.</span></span>

### <a name="not-human-readable"></a><span data-ttu-id="f11e8-202">Недоступно для чтения человеком</span><span class="sxs-lookup"><span data-stu-id="f11e8-202">Not human readable</span></span>

<span data-ttu-id="f11e8-203">Запросы API HTTP отправляются в виде текста и могут быть прочитаны и созданы людьми.</span><span class="sxs-lookup"><span data-stu-id="f11e8-203">HTTP API requests are sent as text and can be read and created by humans.</span></span>

<span data-ttu-id="f11e8-204">По умолчанию сообщения gRPC кодируются с помощью Protobuf.</span><span class="sxs-lookup"><span data-stu-id="f11e8-204">gRPC messages are encoded with Protobuf by default.</span></span> <span data-ttu-id="f11e8-205">Хотя Protobuf является эффективным методом отправки и получения, его двоичный формат не читается человеком.</span><span class="sxs-lookup"><span data-stu-id="f11e8-205">While Protobuf is efficient to send and receive, its binary format isn't human readable.</span></span> <span data-ttu-id="f11e8-206">Для Protobuf требуется описание интерфейса сообщения, указанное в файле *PROTO* для правильной десериализации.</span><span class="sxs-lookup"><span data-stu-id="f11e8-206">Protobuf requires the message's interface description specified in the *.proto* file to properly deserialize.</span></span> <span data-ttu-id="f11e8-207">Для анализа полезных данных Protobuf на канале передачи и создания запросов вручную требуются дополнительные средства.</span><span class="sxs-lookup"><span data-stu-id="f11e8-207">Additional tooling is required to analyze Protobuf payloads on the wire and to compose requests by hand.</span></span>

<span data-ttu-id="f11e8-208">Такие функции, как [отражение сервера](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) и [средство командной строки gRPC](https://github.com/grpc/grpc/blob/master/doc/command_line_tool.md) помогают работать с двоичными сообщениями Protobuf.</span><span class="sxs-lookup"><span data-stu-id="f11e8-208">Features such as [server reflection](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md) and the [gRPC command line tool](https://github.com/grpc/grpc/blob/master/doc/command_line_tool.md) exist to assist with binary Protobuf messages.</span></span> <span data-ttu-id="f11e8-209">Кроме того, сообщения Protobuf поддерживают [преобразование в JSON и из JSON](https://developers.google.com/protocol-buffers/docs/proto3#json).</span><span class="sxs-lookup"><span data-stu-id="f11e8-209">Also, Protobuf messages support [conversion to and from JSON](https://developers.google.com/protocol-buffers/docs/proto3#json).</span></span> <span data-ttu-id="f11e8-210">Встроенное преобразование JSON обеспечивает эффективный способ преобразования сообщений Protobuf в удобочитаемую форму при отладке.</span><span class="sxs-lookup"><span data-stu-id="f11e8-210">The built-in JSON conversion provides an efficient way to convert Protobuf messages to and from human readable form when debugging.</span></span>

## <a name="alternative-framework-scenarios"></a><span data-ttu-id="f11e8-211">Альтернативные сценарии платформы</span><span class="sxs-lookup"><span data-stu-id="f11e8-211">Alternative framework scenarios</span></span>

<span data-ttu-id="f11e8-212">Рекомендуется использовать другие платформы вместо gRPC в следующих сценариях:</span><span class="sxs-lookup"><span data-stu-id="f11e8-212">Other frameworks are recommended over gRPC in the following scenarios:</span></span>

* <span data-ttu-id="f11e8-213">**API, доступные в браузере**  — gRPC не полностью поддерживаются в браузере.</span><span class="sxs-lookup"><span data-stu-id="f11e8-213">**Browser accessible APIs** : gRPC isn't fully supported in the browser.</span></span> <span data-ttu-id="f11e8-214">gRPC-Web может предлагать поддержку браузеров, но имеет ограничения и вводит серверный прокси.</span><span class="sxs-lookup"><span data-stu-id="f11e8-214">gRPC-Web can offer browser support, but it has limitations and introduces a server proxy.</span></span>
* <span data-ttu-id="f11e8-215">**Широковещательная передача в реальном времени**  — gRPC поддерживает обмен данными в режиме реального времени через потоковую передачу, но концепция широковещательной рассылки сообщения в зарегистрированные подключения не существует.</span><span class="sxs-lookup"><span data-stu-id="f11e8-215">**Broadcast real-time communication** : gRPC supports real-time communication via streaming, but the concept of broadcasting a message out to registered connections doesn't exist.</span></span> <span data-ttu-id="f11e8-216">Например, в сценарии комнаты чатов, где новые сообщения разговора должны отправляться всем клиентам в комнате разговора, каждый вызов gRPC должен отдельно передавать новые сообщения чата клиенту.</span><span class="sxs-lookup"><span data-stu-id="f11e8-216">For example in a chat room scenario where new chat messages should be sent to all clients in the chat room, each gRPC call is required to individually stream new chat messages to the client.</span></span> <span data-ttu-id="f11e8-217">Для этого сценария хорошо подойдет [SignalR](xref:signalr/introduction).</span><span class="sxs-lookup"><span data-stu-id="f11e8-217">[SignalR](xref:signalr/introduction) is a useful framework for this scenario.</span></span> <span data-ttu-id="f11e8-218">В SignalR есть концепция постоянных подключений и встроенная поддержка широковещательных сообщений.</span><span class="sxs-lookup"><span data-stu-id="f11e8-218">SignalR has the concept of persistent connections and built-in support for broadcasting messages.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f11e8-219">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="f11e8-219">Additional resources</span></span>

* <xref:tutorials/grpc/grpc-start>
* <xref:grpc/index>
* <xref:grpc/basics>
* <xref:grpc/migration>
