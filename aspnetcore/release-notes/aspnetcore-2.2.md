---
title: Новые возможности ASP.NET Core 2.2
author: rick-anderson
description: Сведения о новых возможностях ASP.NET Core 2.2.
ms.author: riande
ms.custom: mvc
ms.date: 12/05/2019
no-loc:
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: aspnetcore-2.2
ms.openlocfilehash: 085a26d508af5bdce506ab923a3256046b3894ab
ms.sourcegitcommit: 24106b7ffffc9fff410a679863e28aeb2bbe5b7e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/17/2020
ms.locfileid: "90722492"
---
# <a name="whats-new-in-aspnet-core-22"></a><span data-ttu-id="a56f0-103">Новые возможности ASP.NET Core 2.2</span><span class="sxs-lookup"><span data-stu-id="a56f0-103">What's new in ASP.NET Core 2.2</span></span>

<span data-ttu-id="a56f0-104">В этой статье описываются наиболее важные изменения в ASP.NET Core 2.2 со ссылками на соответствующую документацию.</span><span class="sxs-lookup"><span data-stu-id="a56f0-104">This article highlights the most significant changes in ASP.NET Core 2.2, with links to relevant documentation.</span></span>

## <a name="openapi-analyzers--conventions"></a><span data-ttu-id="a56f0-105">Соглашения и анализаторы OpenAPI</span><span class="sxs-lookup"><span data-stu-id="a56f0-105">OpenAPI Analyzers & Conventions</span></span>

<span data-ttu-id="a56f0-106">OpenAPI (ранее Swagger) — это не зависящая от языка спецификация для описания REST API.</span><span class="sxs-lookup"><span data-stu-id="a56f0-106">OpenAPI (formerly known as Swagger) is a language-agnostic specification for describing REST APIs.</span></span> <span data-ttu-id="a56f0-107">В экосистеме OpenAPI представлены средства для обнаружения, тестирования и создания кода клиента в соответствии со спецификацией.</span><span class="sxs-lookup"><span data-stu-id="a56f0-107">The OpenAPI ecosystem has tools that allow for discovering, testing, and producing client code using the specification.</span></span> <span data-ttu-id="a56f0-108">Поддержка создания и визуализации документов OpenAPI в ASP.NET Core MVC обеспечивается за счет управляемых сообществом проектов, таких как [NSwag](https://github.com/RicoSuter/NSwag) и [Swashbuckle.AspNetCore](https://github.com/domaindrivendev/Swashbuckle.AspNetCore).</span><span class="sxs-lookup"><span data-stu-id="a56f0-108">Support for generating and visualizing OpenAPI documents in ASP.NET Core MVC is provided via community driven projects such as [NSwag](https://github.com/RicoSuter/NSwag) and [Swashbuckle.AspNetCore](https://github.com/domaindrivendev/Swashbuckle.AspNetCore).</span></span> <span data-ttu-id="a56f0-109">В ASP.NET Core 2.2 представлены улучшенные средства и возможности среды выполнения для создания документов OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="a56f0-109">ASP.NET Core 2.2 provides improved tooling and runtime experiences for creating OpenAPI documents.</span></span>

<span data-ttu-id="a56f0-110">Дополнительные сведения см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="a56f0-110">For more information, see the following resources:</span></span>

* <xref:web-api/advanced/analyzers>
* <xref:web-api/advanced/conventions>
* [<span data-ttu-id="a56f0-111">ASP.NET Core 2.2.0, предварительная версия 1: Соглашения и анализаторы OpenAPI</span><span class="sxs-lookup"><span data-stu-id="a56f0-111">ASP.NET Core 2.2.0-preview1: OpenAPI Analyzers & Conventions</span></span>](https://blogs.msdn.microsoft.com/webdev/2018/08/23/asp-net-core-2-20-preview1-open-api-analyzers-conventions/)

## <a name="problem-details-support"></a><span data-ttu-id="a56f0-112">Поддержка сведений о проблеме</span><span class="sxs-lookup"><span data-stu-id="a56f0-112">Problem details support</span></span>

<span data-ttu-id="a56f0-113">В ASP.NET Core 2.1 появился объект `ProblemDetails`, основанный на спецификации [RFC 7807](https://tools.ietf.org/html/rfc7807) и предназначенный для передачи сведений об ошибке в составе HTTP-ответа.</span><span class="sxs-lookup"><span data-stu-id="a56f0-113">ASP.NET Core 2.1 introduced `ProblemDetails`, based on the [RFC 7807](https://tools.ietf.org/html/rfc7807) specification for carrying details of an error with an HTTP Response.</span></span> <span data-ttu-id="a56f0-114">В версии 2.2 `ProblemDetails` является стандартным ответом для кодов ошибок клиента в контроллерах с атрибутами `ApiControllerAttribute`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-114">In 2.2, `ProblemDetails` is the standard response for client error codes in controllers attributed with `ApiControllerAttribute`.</span></span> <span data-ttu-id="a56f0-115">`IActionResult`, возвращающий код состояния ошибки клиента (4xx), теперь возвращает текст `ProblemDetails`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-115">An `IActionResult` returning a client error status code (4xx) now returns a `ProblemDetails` body.</span></span> <span data-ttu-id="a56f0-116">В результат также включается идентификатор корреляции, который может использоваться для сопоставления ошибки с помощью журналов запросов.</span><span class="sxs-lookup"><span data-stu-id="a56f0-116">The result also includes a correlation ID that can be used to correlate the error using request logs.</span></span> <span data-ttu-id="a56f0-117">В отношении ошибок клиентов `ProducesResponseType` по умолчанию использует тип ответа `ProblemDetails`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-117">For client errors, `ProducesResponseType` defaults to using `ProblemDetails` as the response type.</span></span> <span data-ttu-id="a56f0-118">Это описывается в выходных данных Open API (Swagger), создаваемых с помощью NSwag или Swashbuckle.AspNetCore.</span><span class="sxs-lookup"><span data-stu-id="a56f0-118">This is documented in OpenAPI / Swagger output generated using NSwag or Swashbuckle.AspNetCore.</span></span>

## <a name="endpoint-routing"></a><span data-ttu-id="a56f0-119">Маршрутизация конечных точек</span><span class="sxs-lookup"><span data-stu-id="a56f0-119">Endpoint Routing</span></span>

<span data-ttu-id="a56f0-120">В ASP.NET Core 2.2 используется новая система *маршрутизации конечных точек*, обеспечивающая оптимизированную диспетчеризацию запросов.</span><span class="sxs-lookup"><span data-stu-id="a56f0-120">ASP.NET Core 2.2 uses a new *endpoint routing* system for improved dispatching of requests.</span></span> <span data-ttu-id="a56f0-121">Среди изменений представлены новые члены для создания ссылок API и преобразователи параметров маршрута.</span><span class="sxs-lookup"><span data-stu-id="a56f0-121">The changes include new link generation API members and route parameter transformers.</span></span>

<span data-ttu-id="a56f0-122">Дополнительные сведения см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="a56f0-122">For more information, see the following resources:</span></span>

* [<span data-ttu-id="a56f0-123">Маршрутизация конечных точек в версии 2.2</span><span class="sxs-lookup"><span data-stu-id="a56f0-123">Endpoint routing in 2.2</span></span>](https://blogs.msdn.microsoft.com/webdev/2018/08/27/asp-net-core-2-2-0-preview1-endpoint-routing/)
* <span data-ttu-id="a56f0-124">[Преобразователи параметров маршрута](https://www.hanselman.com/blog/ASPNETCore22ParameterTransformersForCleanURLGenerationAndSlugsInRazorPagesOrMVC.aspx) (см. раздел **Маршрутизация**)</span><span class="sxs-lookup"><span data-stu-id="a56f0-124">[Route parameter transformers](https://www.hanselman.com/blog/ASPNETCore22ParameterTransformersForCleanURLGenerationAndSlugsInRazorPagesOrMVC.aspx) (see **Routing** section)</span></span>
* [<span data-ttu-id="a56f0-125">Различия между IRouter и маршрутизацией на основе конечных точек</span><span class="sxs-lookup"><span data-stu-id="a56f0-125">Differences between IRouter- and endpoint-based routing</span></span>](xref:fundamentals/routing?view=aspnetcore-2.2#differences-from-earlier-versions-of-routing)

## <a name="health-checks"></a><span data-ttu-id="a56f0-126">Проверки работоспособности</span><span class="sxs-lookup"><span data-stu-id="a56f0-126">Health checks</span></span>

<span data-ttu-id="a56f0-127">Новая служба проверки работоспособности упрощает использование ASP.NET Core в средах с обязательной проверкой работоспособности, таких как Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="a56f0-127">A new health checks service makes it easier to use ASP.NET Core in environments that require health checks, such as Kubernetes.</span></span> <span data-ttu-id="a56f0-128">Служба проверки работоспособности включает ПО промежуточного слоя и набор библиотек, которые определяют абстракцию `IHealthCheck` и службу.</span><span class="sxs-lookup"><span data-stu-id="a56f0-128">Health checks includes middleware and a set of libraries that define an `IHealthCheck` abstraction and service.</span></span>

<span data-ttu-id="a56f0-129">Проверки работоспособности используются подсистемой балансировки нагрузки или оркестратором контейнеров для быстрого определения того, насколько эффективно система отвечает на запросы.</span><span class="sxs-lookup"><span data-stu-id="a56f0-129">Health checks are used by a container orchestrator or load balancer to quickly determine if a system is responding to requests normally.</span></span> <span data-ttu-id="a56f0-130">Оркестратор контейнеров может реагировать на неуспешную проверку работоспособности, остановив последовательное развертывание или перезапустив контейнер.</span><span class="sxs-lookup"><span data-stu-id="a56f0-130">A container orchestrator might respond to a failing health check by halting a rolling deployment or restarting a container.</span></span> <span data-ttu-id="a56f0-131">Подсистема балансировки нагрузки может реагировать на результаты проверки работоспособности путем перенаправления трафика от неисправного экземпляра службы.</span><span class="sxs-lookup"><span data-stu-id="a56f0-131">A load balancer might respond to a health check by routing traffic away from the failing instance of the service.</span></span>

<span data-ttu-id="a56f0-132">Проверки работоспособности предоставляются приложением в качестве конечной точки HTTP, используемой системами мониторинга.</span><span class="sxs-lookup"><span data-stu-id="a56f0-132">Health checks are exposed by an application as an HTTP endpoint used by monitoring systems.</span></span> <span data-ttu-id="a56f0-133">Проверки работоспособности можно настроить для различных сценариев мониторинга в реальном времени и систем мониторинга.</span><span class="sxs-lookup"><span data-stu-id="a56f0-133">Health checks can be configured for a variety of real-time monitoring scenarios and monitoring systems.</span></span> <span data-ttu-id="a56f0-134">Проверки работоспособности интегрируются с [проектом BeatPulse](https://github.com/Xabaril/BeatPulse).</span><span class="sxs-lookup"><span data-stu-id="a56f0-134">The health checks service integrates with the [BeatPulse project](https://github.com/Xabaril/BeatPulse).</span></span> <span data-ttu-id="a56f0-135">Это значительно упрощает добавление проверок в десятки распространенных систем и зависимых компонентов.</span><span class="sxs-lookup"><span data-stu-id="a56f0-135">which makes it easier to add checks for dozens of popular systems and dependencies.</span></span>

<span data-ttu-id="a56f0-136">Дополнительные сведения см. в статье [Проверки работоспособности в ASP.NET Core](xref:host-and-deploy/health-checks).</span><span class="sxs-lookup"><span data-stu-id="a56f0-136">For more information, see [Health checks in ASP.NET Core](xref:host-and-deploy/health-checks).</span></span>

## <a name="http2-in-kestrel"></a><span data-ttu-id="a56f0-137">HTTP/2 в Kestrel</span><span class="sxs-lookup"><span data-stu-id="a56f0-137">HTTP/2 in Kestrel</span></span>

<span data-ttu-id="a56f0-138">В ASP.NET Core 2.2 добавлена поддержка HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="a56f0-138">ASP.NET Core 2.2 adds support for HTTP/2.</span></span>

<span data-ttu-id="a56f0-139">HTTP/2 является основной редакцией HTTP-протокола.</span><span class="sxs-lookup"><span data-stu-id="a56f0-139">HTTP/2 is a major revision of the HTTP protocol.</span></span> <span data-ttu-id="a56f0-140">В число важных функций HTTP/2 входят следующие:</span><span class="sxs-lookup"><span data-stu-id="a56f0-140">Notable features of HTTP/2 include:</span></span>

* <span data-ttu-id="a56f0-141">Поддержка сжатия заголовка.</span><span class="sxs-lookup"><span data-stu-id="a56f0-141">Support for header compression.</span></span>
* <span data-ttu-id="a56f0-142">Полностью мультиплексные потоки через одно соединение.</span><span class="sxs-lookup"><span data-stu-id="a56f0-142">Fully multiplexed streams over a single connection.</span></span>

<span data-ttu-id="a56f0-143">Версия HTTP/2 сохраняет семантику HTTP (например, методы и заголовки HTTP), однако она заметно отличается от HTTP/1.x в отношении механизмов кадрирования и передачи данных между клиентом и сервером.</span><span class="sxs-lookup"><span data-stu-id="a56f0-143">While HTTP/2 preserves HTTP's semantics (for example, HTTP headers and methods), it's a breaking change from HTTP/1.x on how data is framed and sent between the client and server.</span></span>

<span data-ttu-id="a56f0-144">В связи с этим изменением механизмов кадрирования серверам и клиентам необходимо согласовывать используемую версию протокола.</span><span class="sxs-lookup"><span data-stu-id="a56f0-144">As a consequence of this change in framing, servers and clients need to negotiate the protocol version used.</span></span> <span data-ttu-id="a56f0-145">Согласование протоколов на уровне приложений (Application-Layer Protocol Negotiation, ALPN) — это расширение TLS, с помощью которого сервер и клиент могут согласовать версию протокола в рамках процесса подтверждения TLS.</span><span class="sxs-lookup"><span data-stu-id="a56f0-145">Application-Layer Protocol Negotiation (ALPN) is a TLS extension that allows the server and client to negotiate the protocol version used as part of their TLS handshake.</span></span> <span data-ttu-id="a56f0-146">Даже при наличии у сервера и клиента сведений о версии протокола все основные браузеры поддерживают ALPN как единственное средство для установления соединения по протоколу HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="a56f0-146">While it is possible to have prior knowledge between the server and the client on the protocol, all major browsers support ALPN as the only way to establish an HTTP/2 connection.</span></span>

<span data-ttu-id="a56f0-147">Дополнительные сведения см. в статье [Поддержка HTTP/2](xref:fundamentals/servers/index?view=aspnetcore-2.2#http2-support).</span><span class="sxs-lookup"><span data-stu-id="a56f0-147">For more information, see [HTTP/2 support](xref:fundamentals/servers/index?view=aspnetcore-2.2#http2-support).</span></span>

## <a name="kestrel-configuration"></a><span data-ttu-id="a56f0-148">Настройка Kestrel</span><span class="sxs-lookup"><span data-stu-id="a56f0-148">Kestrel configuration</span></span>

<span data-ttu-id="a56f0-149">В предыдущих версиях ASP.NET Core настройка параметров Kestrel осуществлялась путем вызова `UseKestrel`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-149">In earlier versions of ASP.NET Core, Kestrel options are configured by calling `UseKestrel`.</span></span> <span data-ttu-id="a56f0-150">В версии 2.2 для настройки параметров Kestrel вызывается метод `ConfigureKestrel` в построителе узла.</span><span class="sxs-lookup"><span data-stu-id="a56f0-150">In 2.2, Kestrel options are configured by calling `ConfigureKestrel` on the host builder.</span></span> <span data-ttu-id="a56f0-151">Это изменение позволяет устранить проблему с порядком регистрации `IServer` для внутрипроцессного размещения.</span><span class="sxs-lookup"><span data-stu-id="a56f0-151">This change resolves an issue with the order of `IServer` registrations for in-process hosting.</span></span> <span data-ttu-id="a56f0-152">Дополнительные сведения см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="a56f0-152">For more information, see the following resources:</span></span>

* [<span data-ttu-id="a56f0-153">Устранение конфликта UseIIS</span><span class="sxs-lookup"><span data-stu-id="a56f0-153">Mitigate UseIIS conflict</span></span>](https://github.com/aspnet/KestrelHttpServer/issues/2760)
* [<span data-ttu-id="a56f0-154">Настройка параметров сервера Kestrel с помощью ConfigureKestrel</span><span class="sxs-lookup"><span data-stu-id="a56f0-154">Configure Kestrel server options with ConfigureKestrel</span></span>](xref:fundamentals/servers/kestrel?view=aspnetcore-2.2#how-to-use-kestrel-in-aspnet-core-apps)

## <a name="iis-in-process-hosting"></a><span data-ttu-id="a56f0-155">Внутрипроцессное размещение в службах IIS</span><span class="sxs-lookup"><span data-stu-id="a56f0-155">IIS in-process hosting</span></span>

<span data-ttu-id="a56f0-156">В более ранних версиях ASP.NET Core службы IIS выступают в качестве обратного прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="a56f0-156">In earlier versions of ASP.NET Core, IIS serves as a reverse proxy.</span></span> <span data-ttu-id="a56f0-157">В версии 2.2 модуль ASP.NET Core может загружать CoreCLR и размещать приложение в рабочем процессе IIS (*w3wp.exe*).</span><span class="sxs-lookup"><span data-stu-id="a56f0-157">In 2.2, the ASP.NET Core Module can boot the CoreCLR and host an app inside the IIS worker process (*w3wp.exe*).</span></span> <span data-ttu-id="a56f0-158">Внутрипроцессное размещение позволяет оптимизировать производительность и диагностику при работе со службами IIS.</span><span class="sxs-lookup"><span data-stu-id="a56f0-158">In-process hosting provides performance and diagnostic gains when running with IIS.</span></span>

<span data-ttu-id="a56f0-159">Дополнительные сведения см. в статье [Внутрипроцессное размещение для служб IIS](xref:host-and-deploy/aspnet-core-module?view=aspnetcore-2.2#in-process-hosting-model).</span><span class="sxs-lookup"><span data-stu-id="a56f0-159">For more information, see [in-process hosting for IIS](xref:host-and-deploy/aspnet-core-module?view=aspnetcore-2.2#in-process-hosting-model).</span></span>

## <a name="no-locsignalr-java-client"></a><span data-ttu-id="a56f0-160">Клиент Java SignalR</span><span class="sxs-lookup"><span data-stu-id="a56f0-160">SignalR Java client</span></span>

<span data-ttu-id="a56f0-161">В ASP.NET Core 2.2 представлен клиент Java для SignalR.</span><span class="sxs-lookup"><span data-stu-id="a56f0-161">ASP.NET Core 2.2 introduces a Java Client for SignalR.</span></span> <span data-ttu-id="a56f0-162">Этот клиент поддерживает подключение к серверу SignalR ASP.NET Core из кода Java, в том числе из приложений Android.</span><span class="sxs-lookup"><span data-stu-id="a56f0-162">This client supports connecting to an ASP.NET Core SignalR Server from Java code, including Android apps.</span></span>

<span data-ttu-id="a56f0-163">Дополнительные сведения см. в статье о [клиенте Java для SignalR ASP.NET Core](../signalr/java-client.md?view=aspnetcore-2.2).</span><span class="sxs-lookup"><span data-stu-id="a56f0-163">For more information, see [ASP.NET Core SignalR Java client](../signalr/java-client.md?view=aspnetcore-2.2).</span></span>

## <a name="cors-improvements"></a><span data-ttu-id="a56f0-164">Усовершенствования CORS</span><span class="sxs-lookup"><span data-stu-id="a56f0-164">CORS improvements</span></span>

<span data-ttu-id="a56f0-165">В предыдущих версия ASP.NET Core ПО промежуточного слоя CORS обеспечивало отправку заголовков `Accept`, `Accept-Language`, `Content-Language` и `Origin` независимо от значений, настроенных в `CorsPolicy.Headers`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-165">In earlier versions of ASP.NET Core, CORS Middleware allows `Accept`, `Accept-Language`, `Content-Language`, and `Origin` headers to be sent regardless of the values configured in `CorsPolicy.Headers`.</span></span> <span data-ttu-id="a56f0-166">В версии 2.2 соблюдение политики ПО промежуточного слоя CORS возможно только в том случае, если отправляемые в `Access-Control-Request-Headers` заголовки точно соответствуют заголовкам, указанным в `WithHeaders`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-166">In 2.2, a CORS Middleware policy match is only possible when the headers sent in `Access-Control-Request-Headers` exactly match the headers stated in `WithHeaders`.</span></span>

<span data-ttu-id="a56f0-167">Дополнительные сведения см. в статье [ПО промежуточного слоя CORS](xref:security/cors?view=aspnetcore-2.2#set-the-allowed-request-headers).</span><span class="sxs-lookup"><span data-stu-id="a56f0-167">For more information, see [CORS Middleware](xref:security/cors?view=aspnetcore-2.2#set-the-allowed-request-headers).</span></span>

## <a name="response-compression"></a><span data-ttu-id="a56f0-168">Сжатие ответов</span><span class="sxs-lookup"><span data-stu-id="a56f0-168">Response compression</span></span>

<span data-ttu-id="a56f0-169">ASP.NET Core 2.2 поддерживает сжатие ответов с использованием [формата сжатия Brotli](https://tools.ietf.org/html/rfc7932).</span><span class="sxs-lookup"><span data-stu-id="a56f0-169">ASP.NET Core 2.2 can compress responses with the [Brotli compression format](https://tools.ietf.org/html/rfc7932).</span></span>

<span data-ttu-id="a56f0-170">Дополнительные сведения см. в статье [Поддержка сжатия Brotli для сжатия ответов в ПО промежуточного слоя](xref:performance/response-compression?view=aspnetcore-2.2#brotli-compression-provider).</span><span class="sxs-lookup"><span data-stu-id="a56f0-170">For more information, see [Response Compression Middleware supports Brotli compression](xref:performance/response-compression?view=aspnetcore-2.2#brotli-compression-provider).</span></span>

## <a name="project-templates"></a><span data-ttu-id="a56f0-171">Шаблоны проектов</span><span class="sxs-lookup"><span data-stu-id="a56f0-171">Project templates</span></span>

<span data-ttu-id="a56f0-172">Шаблоны веб-проектов ASP.NET Core обновлены до [Bootstrap 4](https://getbootstrap.com/docs/4.1/migration/) и [Angular 6](https://blog.angular.io/version-6-of-angular-now-available-cc56b0efa7a4).</span><span class="sxs-lookup"><span data-stu-id="a56f0-172">ASP.NET Core web project templates were updated to [Bootstrap 4](https://getbootstrap.com/docs/4.1/migration/) and [Angular 6](https://blog.angular.io/version-6-of-angular-now-available-cc56b0efa7a4).</span></span> <span data-ttu-id="a56f0-173">Новое оформление выглядит проще и позволяет более эффективно отображать важные структуры приложения.</span><span class="sxs-lookup"><span data-stu-id="a56f0-173">The new look is visually simpler and makes it easier to see the important structures of the app.</span></span>

![Домашняя или индексная страница](~/tutorials/razor-pages/razor-pages-start/_static/home2.2.png)

## <a name="validation-performance"></a><span data-ttu-id="a56f0-175">Производительность проверок</span><span class="sxs-lookup"><span data-stu-id="a56f0-175">Validation performance</span></span>

<span data-ttu-id="a56f0-176">Модель MVC имеет расширяемую гибкую систему проверки, позволяющую на основе запросов определять, какие средства проверки применяются к конкретной модели.</span><span class="sxs-lookup"><span data-stu-id="a56f0-176">MVC's validation system is designed to be extensible and flexible, allowing you to determine on a per request basis which validators apply to a given model.</span></span> <span data-ttu-id="a56f0-177">Эта возможность отлично подходит для разработки сложных поставщиков служб проверки.</span><span class="sxs-lookup"><span data-stu-id="a56f0-177">This is great for authoring complex validation providers.</span></span> <span data-ttu-id="a56f0-178">Тем не менее в большинстве распространенных случаев приложение использует только встроенные средства проверки и не нуждается в таких дополнительных возможностях.</span><span class="sxs-lookup"><span data-stu-id="a56f0-178">However, in the most common case an application only uses the built-in validators and don't require this extra flexibility.</span></span> <span data-ttu-id="a56f0-179">К встроенным средствам проверки относятся заметки к данным, такие как [Required] и [StringLength], а также `IValidatableObject`.</span><span class="sxs-lookup"><span data-stu-id="a56f0-179">Built-in validators include DataAnnotations such as [Required] and [StringLength], and `IValidatableObject`.</span></span>

<span data-ttu-id="a56f0-180">В ASP.NET Core 2.2 модель MVC может обойти проверку в случаях, когда определяется, что для указанного графа модели проверка не требуется.</span><span class="sxs-lookup"><span data-stu-id="a56f0-180">In ASP.NET Core 2.2, MVC can short-circuit validation if it determines that a given model graph doesn't require validation.</span></span> <span data-ttu-id="a56f0-181">Пропуск проверки приводит к существенным улучшениям для моделей, в которых отсутствуют или не могут использоваться средства проверки.</span><span class="sxs-lookup"><span data-stu-id="a56f0-181">Skipping validation results in significant improvements when validating models that can't or don't have any validators.</span></span> <span data-ttu-id="a56f0-182">К ним относятся такие объекты, как коллекции примитивов (например, `byte[]`, `string[]`, `Dictionary<string, string>`) или сложные графы объектов с небольшим количеством средств проверки.</span><span class="sxs-lookup"><span data-stu-id="a56f0-182">This includes objects such as collections of primitives (such as `byte[]`, `string[]`, `Dictionary<string, string>`), or complex object graphs without many validators.</span></span>

## <a name="http-client-performance"></a><span data-ttu-id="a56f0-183">Производительность клиента HTTP</span><span class="sxs-lookup"><span data-stu-id="a56f0-183">HTTP Client performance</span></span>

<span data-ttu-id="a56f0-184">В ASP.NET Core 2.2 была повышена производительность `SocketsHttpHandler` за счет уменьшения числа конфликтов, связанных с блокировкой пула подключений.</span><span class="sxs-lookup"><span data-stu-id="a56f0-184">In ASP.NET Core 2.2, the performance of `SocketsHttpHandler` was improved by reducing connection pool locking contention.</span></span> <span data-ttu-id="a56f0-185">Была увеличена пропускная способность приложений, которые выполняют множество исходящих запросов HTTP, таких как некоторые архитектуры микрослужб.</span><span class="sxs-lookup"><span data-stu-id="a56f0-185">For apps that make many outgoing HTTP requests, such as some microservices architectures, throughput is improved.</span></span> <span data-ttu-id="a56f0-186">Под нагрузкой пропускная способность `HttpClient` может повышаться до 60 % в Linux и до 20 % в Windows.</span><span class="sxs-lookup"><span data-stu-id="a56f0-186">Under load, `HttpClient` throughput can be improved by up to 60% on Linux and 20% on Windows.</span></span>

<span data-ttu-id="a56f0-187">Дополнительные сведения см. в статье, посвященной [запросам на вытягивание, благодаря которым удалось добиться этого улучшения](https://github.com/dotnet/corefx/pull/32568).</span><span class="sxs-lookup"><span data-stu-id="a56f0-187">For more information, see [the pull request that made this improvement](https://github.com/dotnet/corefx/pull/32568).</span></span>

## <a name="additional-information"></a><span data-ttu-id="a56f0-188">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="a56f0-188">Additional information</span></span>

<span data-ttu-id="a56f0-189">Полный список изменений см. в статье [Заметки о выпуске ASP.NET Core 2.2](https://github.com/dotnet/aspnetcore/releases/tag/2.2.0).</span><span class="sxs-lookup"><span data-stu-id="a56f0-189">For the complete list of changes, see the [ASP.NET Core 2.2 Release Notes](https://github.com/dotnet/aspnetcore/releases/tag/2.2.0).</span></span>